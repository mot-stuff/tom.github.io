<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.4"/>
    <title>model.ScriptingFunctions.GrandExchangeActions API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../ScriptingFunctions.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;model.ScriptingFunctions</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#GrandExchangeActions">GrandExchangeActions</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#GrandExchangeActions.__init__">GrandExchangeActions</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrandExchangeActions.api_m">api_m</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrandExchangeActions.npc_actions">npc_actions</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrandExchangeActions.widget_actions">widget_actions</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrandExchangeActions.mouse">mouse</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.open_grand_exchange">open_grand_exchange</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.close_grand_exchange">close_grand_exchange</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.collect_all">collect_all</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.collect_slot">collect_slot</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.collect_within_slot">collect_within_slot</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.get_ge_slot_status">get_ge_slot_status</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.get_all_ge_slot_statuses">get_all_ge_slot_statuses</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.is_ge_slot_empty">is_ge_slot_empty</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.is_ge_slot_bought">is_ge_slot_bought</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.abort_offer">abort_offer</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.get_actively_traded_price">get_actively_traded_price</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.ge_buy_item">ge_buy_item</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.set_price_increase">set_price_increase</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.set_exact_price">set_exact_price</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.set_buy_quantity">set_buy_quantity</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.click_search_result">click_search_result</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.click_ge_slot">click_ge_slot</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.select_menu_option">select_menu_option</a>
                        </li>
                        <li>
                                <a class="function" href="#GrandExchangeActions.abort_ge_offer">abort_ge_offer</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
model<wbr>.<a href="./../ScriptingFunctions.html">ScriptingFunctions</a><wbr>.GrandExchangeActions    </h1>

                        <div class="docstring"><p>ShopActions - Handles shop-related scripting functions</p>
</div>

                        <input id="mod-GrandExchangeActions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-GrandExchangeActions-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="sd">ShopActions - Handles shop-related scripting functions</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">api.SafeRSAPI</span><span class="w"> </span><span class="kn">import</span> <span class="n">SafeRSAPI</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">model.ScriptingFunctions.NPCActions</span><span class="w"> </span><span class="kn">import</span> <span class="n">NpcActions</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">model.ScriptingFunctions.WidgetActions</span><span class="w"> </span><span class="kn">import</span> <span class="n">WidgetActions</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">utilities.mouse</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mouse</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="k">class</span><span class="w"> </span><span class="nc">GrandExchangeActions</span><span class="p">:</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api_m</span><span class="p">:</span> <span class="n">SafeRSAPI</span><span class="p">):</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span> <span class="o">=</span> <span class="n">api_m</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">npc_actions</span> <span class="o">=</span> <span class="n">NpcActions</span><span class="p">(</span><span class="n">api_m</span><span class="p">)</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span> <span class="o">=</span> <span class="n">WidgetActions</span><span class="p">(</span><span class="n">api_m</span><span class="p">)</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span> <span class="o">=</span> <span class="n">Mouse</span><span class="p">(</span><span class="n">api_m</span><span class="p">)</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open_grand_exchange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span><span class="o">.</span><span class="n">does_widget_exist</span><span class="p">(</span><span class="mi">30474247</span><span class="p">):</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a>            <span class="c1"># Check if we&#39;re on login screen - if so, don&#39;t try to click NPC</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">is_login_screen</span><span class="p">():</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player is on login screen - cannot click Grand Exchange Clerk&quot;</span><span class="p">)</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">npc_actions</span><span class="o">.</span><span class="n">click_npc_name</span><span class="p">(</span><span class="s2">&quot;Grand Exchange Clerk&quot;</span><span class="p">,</span> <span class="s2">&quot;Exchange&quot;</span><span class="p">)</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>            <span class="c1"># Wait for GE to open, but with login screen check and timeout</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a>            <span class="n">wait_count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>            <span class="n">max_wait</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># Maximum 30 seconds</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>            <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span><span class="o">.</span><span class="n">does_widget_exist</span><span class="p">(</span><span class="mi">30474247</span><span class="p">)</span> <span class="ow">and</span> <span class="n">wait_count</span> <span class="o">&lt;</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>                <span class="c1"># Check if login screen appeared while waiting</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">is_login_screen</span><span class="p">():</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Login screen detected while waiting for Grand Exchange to open&quot;</span><span class="p">)</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>                    <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>                <span class="n">wait_count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>            <span class="k">if</span> <span class="n">wait_count</span> <span class="o">&gt;=</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Timeout waiting for Grand Exchange to open&quot;</span><span class="p">)</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close_grand_exchange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span><span class="o">.</span><span class="n">does_widget_exist</span><span class="p">(</span><span class="mi">30474247</span><span class="p">):</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;Escape&quot;</span><span class="p">)</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474246</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>    <span class="c1"># lets define some widgets</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span class="sd">        This function clicks a finished buy mode slot to collect the items + gp.</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a><span class="sd">        Args:</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">            slot (int): _description_</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">collect_within_slot</span><span class="p">()</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_within_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a><span class="sd">        This function collects the slots within the GE slot so the items + gp are collected.</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474264</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474264</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_ge_slot_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a><span class="sd">        Gets the status of a specific Grand Exchange slot.</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a><span class="sd">        Args:</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a><span class="sd">            slot (int): The GE slot to check (0-8).</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="sd">        Returns:</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a><span class="sd">            dict: A dictionary with the slot number as the key and its status (&quot;Full&quot; or &quot;Empty&quot;) as the value.</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a><span class="sd">        Raises:</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a><span class="sd">            ValueError: If the slot number is not between 0 and 8.</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">slot</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;GE slot must be between 0 and 8.&quot;</span><span class="p">)</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>        <span class="n">base_widget_id</span> <span class="o">=</span> <span class="mi">30474247</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>        <span class="n">widget_id</span> <span class="o">=</span> <span class="n">base_widget_id</span> <span class="o">+</span> <span class="n">slot</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>        <span class="n">widget_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="n">widget_id</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;Full&quot;</span> <span class="k">if</span> <span class="n">widget_text</span> <span class="o">!=</span> <span class="s2">&quot;Empty&quot;</span> <span class="k">else</span> <span class="s2">&quot;Empty&quot;</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>        <span class="k">return</span> <span class="p">{</span><span class="n">slot</span><span class="p">:</span> <span class="n">status</span><span class="p">}</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_ge_slot_statuses</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a><span class="sd">        Gets the status of all Grand Exchange slots.</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a><span class="sd">        Returns:</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="sd">            dict: A dictionary where keys are slot numbers (0-8) and values are their statuses (&quot;Full&quot; or &quot;Empty&quot;).</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>        <span class="n">slot_statuses</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>        <span class="n">base_widget_id</span> <span class="o">=</span> <span class="mi">30474247</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>        <span class="k">for</span> <span class="n">slot</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>  <span class="c1"># Slots 0-8</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="n">base_widget_id</span> <span class="o">+</span> <span class="n">slot</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>            <span class="n">widget_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="n">widget_id</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>            <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;Full&quot;</span> <span class="k">if</span> <span class="n">widget_text</span> <span class="o">!=</span> <span class="s2">&quot;Empty&quot;</span> <span class="k">else</span> <span class="s2">&quot;Empty&quot;</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>            <span class="n">slot_statuses</span><span class="p">[</span><span class="n">slot</span><span class="p">]</span> <span class="o">=</span> <span class="n">status</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>        <span class="k">return</span> <span class="n">slot_statuses</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_ge_slot_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ge_slot_status</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;Empty&quot;</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_ge_slot_bought</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">click_ge_slot</span><span class="p">(</span><span class="n">slot</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>            <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="mi">30474263</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>            <span class="k">return</span> <span class="s2">&quot;You have bought a total of 0 so farfor a total price of 0 coins.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">status</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">abort_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474263</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474264</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_actively_traded_price</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a><span class="sd">        Gets the actively traded price from the Grand Exchange interface.</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a><span class="sd">        Returns:</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a><span class="sd">            int: The actively traded price, or 0 if parsing fails</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a><span class="sd">        Example text format:</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a><span class="sd">        &quot;Looks tasty.Buy limit: 15 (3:50) / Actively traded price: 491&quot;</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>            <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="mi">30474267</span><span class="p">)</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>            <span class="c1"># Debug: Always log what we&#39;re getting</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] GE Widget 30474267 text: &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>            <span class="c1"># Check if text is empty or None</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] Grand Exchange widget text is empty - interface may not be open or widget ID may be wrong&quot;</span><span class="p">)</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>            <span class="c1"># Check if the expected format is present</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>            <span class="k">if</span> <span class="s2">&quot;Actively traded price: &quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Expected &#39;Actively traded price:&#39; not found in text: &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] This suggests either:&quot;</span><span class="p">)</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] 1. Grand Exchange interface is not properly open&quot;</span><span class="p">)</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] 2. No item is selected in the interface&quot;</span><span class="p">)</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] 3. Widget ID 30474267 is incorrect&quot;</span><span class="p">)</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>            <span class="c1"># Parse the price</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>            <span class="n">price_text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Actively traded price: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>            <span class="n">price</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">price_text</span><span class="p">)</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] Successfully parsed actively traded price: </span><span class="si">{</span><span class="n">price</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>            <span class="k">return</span> <span class="n">price</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to parse actively traded price from text: &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Unexpected error getting actively traded price: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">ge_buy_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">item_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">6</span><span class="p">):</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a><span class="sd">        This function can search for any item in the ge by a general string and then click the ID of the actual item you want if it is returned.</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a><span class="sd">        It will then click the item and return the widget ID of the item you clicked. and index - 2 because id is stored in a widget without interaction.</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a><span class="sd">        Args:</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a><span class="sd">            item_id (int): exact item id to click</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a><span class="sd">            item_name (str): general string to search for (try to be specific)</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a><span class="sd">            buy_slot (int, optional): Which ge buy slot to use (0-8). Defaults to 0.</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a><span class="sd">            quantity (int, optional): Quantity to buy. Defaults to 1.</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a><span class="sd">            price_increase (int, optional): Price increase to buy at (5% increments). Defaults to 6.</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a><span class="sd">        Returns:</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a><span class="sd">            bool: True if purchase was successful, False otherwise</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] Starting GE purchase: </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> (ID: </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>        <span class="c1"># First attempt</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] First attempt to buy </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attempt_purchase</span><span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item_name</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">):</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[SUCCESS] Successfully purchased </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> on first attempt&quot;</span><span class="p">)</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>        <span class="c1"># Second attempt with higher price</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] First attempt failed, trying second attempt with higher price for </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attempt_purchase</span><span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item_name</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">price_increase</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="n">is_retry</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[SUCCESS] Successfully purchased </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> on second attempt&quot;</span><span class="p">)</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to purchase </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> after both attempts&quot;</span><span class="p">)</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_attempt_purchase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">item_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">is_retry</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Attempt a single purchase with error handling&quot;&quot;&quot;</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>            <span class="c1"># Click the buy slot</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Clicking GE slot </span><span class="si">{</span><span class="n">buy_slot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">click_ge_slot</span><span class="p">(</span><span class="n">buy_slot</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.3</span><span class="p">)</span>  <span class="c1"># Increased wait time</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>            <span class="c1"># Search for item</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Searching for </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_string</span><span class="p">(</span><span class="n">item_name</span><span class="p">)</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Increased wait time for search results</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>            <span class="c1"># Click the search result</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Clicking search result for </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">click_search_result</span><span class="p">(</span><span class="n">item_id</span><span class="p">):</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to click search result for </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Increased wait time</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>            <span class="c1"># Set quantity</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Setting quantity to </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_buy_quantity</span><span class="p">(</span><span class="n">quantity</span><span class="p">)</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>            <span class="c1"># Set price - always try to get actively traded price first</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>            <span class="n">price</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_actively_traded_price</span><span class="p">()</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>            <span class="k">if</span> <span class="n">price</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Using actively traded price: </span><span class="si">{</span><span class="n">price</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_exact_price</span><span class="p">(</span><span class="n">price</span><span class="p">)</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_price_increase</span><span class="p">(</span><span class="n">price_increase</span><span class="p">)</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] No actively traded price found, using price increase: </span><span class="si">{</span><span class="n">price_increase</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_price_increase</span><span class="p">(</span><span class="n">price_increase</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>            <span class="c1"># Confirm purchase</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[DEBUG] Confirming purchase&quot;</span><span class="p">)</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474270</span><span class="p">)</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">):</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to click confirm button: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># Increased wait time for purchase to process</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>            <span class="c1"># Check if purchase was successful</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_ge_slot_bought</span><span class="p">(</span><span class="n">buy_slot</span><span class="p">):</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[DEBUG] Purchase successful, collecting slot&quot;</span><span class="p">)</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">collect_slot</span><span class="p">(</span><span class="n">buy_slot</span><span class="p">)</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[DEBUG] Purchase failed, aborting offer&quot;</span><span class="p">)</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">abort_offer</span><span class="p">(</span><span class="n">buy_slot</span><span class="p">)</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Error during purchase attempt: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_price_increase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">):</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;_summary_</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a><span class="sd">        This function will set the price increase for the item.</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a><span class="sd">        It will click the price increase 5% button 3 times by default.</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a><span class="sd">        It will sleep for a random amount of time between 0.5 and 1.5 seconds.</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a><span class="sd">        Args:</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a><span class="sd">            price_increase (int, optional): Number of times to click the price increase button. Defaults to 3.</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">price_increase</span><span class="p">):</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474266</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">))</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_exact_price</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474266</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_string</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">price</span><span class="p">))</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_buy_quantity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>        <span class="k">if</span> <span class="n">quantity</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>            <span class="k">return</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474266</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_string</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">quantity</span><span class="p">))</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">click_search_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Click on a search result for the specified item ID&quot;&quot;&quot;</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Getting search results for item ID </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>            <span class="n">search_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">get_ge_search_results</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">search_results</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">search_results</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] No search results found for item ID </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">search_results</span><span class="p">)</span><span class="si">}</span><span class="s2"> search results&quot;</span><span class="p">)</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">search_results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;widgetId&quot;</span><span class="p">])</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>            <span class="n">widget_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">search_results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;index&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># subtract 2 because id is stored in a widget without interaction</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Clicking widget </span><span class="si">{</span><span class="n">widget_id</span><span class="si">}</span><span class="s2"> at index </span><span class="si">{</span><span class="n">widget_index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="n">widget_id</span><span class="p">,</span> <span class="n">widget_index</span><span class="p">)</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">):</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to click search result: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Increased wait time</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Error clicking search result: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">click_ge_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">):</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;_summary_</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a><span class="sd">        mode 2 is the default to click a completed slot</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a><span class="sd">        mode 3 is the default to buy items</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a><span class="sd">        mode 4 is the default to sell items</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a><span class="sd">        Args:</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a><span class="sd">            buy_slot (int): the slot to use</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a><span class="sd">            mode (int, optional): defaults to buy mode. 2 is to click a completed slot. 4 is to sell items.</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474247</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474248</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474249</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474250</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474251</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474252</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474253</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474254</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474255</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">select_menu_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">widget_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">option_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">menu_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">consume</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a><span class="sd">        Selects a menu option for a specific widget/menu entry.</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a><span class="sd">        Args:</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a><span class="sd">            option (str): The menu option to select (required)</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a><span class="sd">            widget_id (int, optional): The widget ID (was param1). Defaults to -1.</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a><span class="sd">            option_index (int, optional): The option index (was param0, usually 2 for abort). Defaults to 2.</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a><span class="sd">            menu_index (int, optional): The menu index/identifier (was identifier, e.g. 2 for abort). Defaults to 2.</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a><span class="sd">            item_id (int, optional): Item ID for the menu entry. Defaults to -1.</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a><span class="sd">            consume (bool, optional): Whether to consume the click. Defaults to True.</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a><span class="sd">        Returns:</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a><span class="sd">            dict: Response from the API indicating success or failure</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">select_menu_option</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">widget_id</span><span class="p">,</span> <span class="n">option_index</span><span class="p">,</span> <span class="n">menu_index</span><span class="p">,</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">consume</span><span class="p">)</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">abort_ge_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a><span class="sd">        Aborts a Grand Exchange offer by selecting the &quot;Abort offer&quot; menu option with the required params.</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a><span class="sd">        Args:</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a><span class="sd">            widget_id (int): The widget ID (param1)</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a><span class="sd">            item_id (int, optional): Item ID for the menu entry. Defaults to -1.</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a><span class="sd">            consume (bool, optional): Whether to consume the click. Defaults to True.</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a><span class="sd">        Returns:</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a><span class="sd">            dict: Response from the API indicating success or failure</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474247</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474248</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474249</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474250</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474251</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474252</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474253</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474254</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474255</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_menu_option</span><span class="p">(</span><span class="s2">&quot;Abort offer&quot;</span><span class="p">,</span> <span class="n">widget_id</span><span class="o">=</span><span class="n">widget_id</span><span class="p">,</span> <span class="n">option_index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">menu_index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">consume</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></pre></div>


            </section>
                <section id="GrandExchangeActions">
                            <input id="GrandExchangeActions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">GrandExchangeActions</span>:

                <label class="view-source-button" for="GrandExchangeActions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions-14"><a href="#GrandExchangeActions-14"><span class="linenos"> 14</span></a><span class="k">class</span><span class="w"> </span><span class="nc">GrandExchangeActions</span><span class="p">:</span>
</span><span id="GrandExchangeActions-15"><a href="#GrandExchangeActions-15"><span class="linenos"> 15</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api_m</span><span class="p">:</span> <span class="n">SafeRSAPI</span><span class="p">):</span>
</span><span id="GrandExchangeActions-16"><a href="#GrandExchangeActions-16"><span class="linenos"> 16</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span> <span class="o">=</span> <span class="n">api_m</span>
</span><span id="GrandExchangeActions-17"><a href="#GrandExchangeActions-17"><span class="linenos"> 17</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">npc_actions</span> <span class="o">=</span> <span class="n">NpcActions</span><span class="p">(</span><span class="n">api_m</span><span class="p">)</span>
</span><span id="GrandExchangeActions-18"><a href="#GrandExchangeActions-18"><span class="linenos"> 18</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span> <span class="o">=</span> <span class="n">WidgetActions</span><span class="p">(</span><span class="n">api_m</span><span class="p">)</span>
</span><span id="GrandExchangeActions-19"><a href="#GrandExchangeActions-19"><span class="linenos"> 19</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span> <span class="o">=</span> <span class="n">Mouse</span><span class="p">(</span><span class="n">api_m</span><span class="p">)</span>
</span><span id="GrandExchangeActions-20"><a href="#GrandExchangeActions-20"><span class="linenos"> 20</span></a>
</span><span id="GrandExchangeActions-21"><a href="#GrandExchangeActions-21"><span class="linenos"> 21</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open_grand_exchange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions-22"><a href="#GrandExchangeActions-22"><span class="linenos"> 22</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-23"><a href="#GrandExchangeActions-23"><span class="linenos"> 23</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-24"><a href="#GrandExchangeActions-24"><span class="linenos"> 24</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-25"><a href="#GrandExchangeActions-25"><span class="linenos"> 25</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-26"><a href="#GrandExchangeActions-26"><span class="linenos"> 26</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span><span class="o">.</span><span class="n">does_widget_exist</span><span class="p">(</span><span class="mi">30474247</span><span class="p">):</span>
</span><span id="GrandExchangeActions-27"><a href="#GrandExchangeActions-27"><span class="linenos"> 27</span></a>            <span class="c1"># Check if we&#39;re on login screen - if so, don&#39;t try to click NPC</span>
</span><span id="GrandExchangeActions-28"><a href="#GrandExchangeActions-28"><span class="linenos"> 28</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">is_login_screen</span><span class="p">():</span>
</span><span id="GrandExchangeActions-29"><a href="#GrandExchangeActions-29"><span class="linenos"> 29</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player is on login screen - cannot click Grand Exchange Clerk&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-30"><a href="#GrandExchangeActions-30"><span class="linenos"> 30</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-31"><a href="#GrandExchangeActions-31"><span class="linenos"> 31</span></a>
</span><span id="GrandExchangeActions-32"><a href="#GrandExchangeActions-32"><span class="linenos"> 32</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">npc_actions</span><span class="o">.</span><span class="n">click_npc_name</span><span class="p">(</span><span class="s2">&quot;Grand Exchange Clerk&quot;</span><span class="p">,</span> <span class="s2">&quot;Exchange&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-33"><a href="#GrandExchangeActions-33"><span class="linenos"> 33</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-34"><a href="#GrandExchangeActions-34"><span class="linenos"> 34</span></a>            <span class="c1"># Wait for GE to open, but with login screen check and timeout</span>
</span><span id="GrandExchangeActions-35"><a href="#GrandExchangeActions-35"><span class="linenos"> 35</span></a>            <span class="n">wait_count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="GrandExchangeActions-36"><a href="#GrandExchangeActions-36"><span class="linenos"> 36</span></a>            <span class="n">max_wait</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># Maximum 30 seconds</span>
</span><span id="GrandExchangeActions-37"><a href="#GrandExchangeActions-37"><span class="linenos"> 37</span></a>            <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span><span class="o">.</span><span class="n">does_widget_exist</span><span class="p">(</span><span class="mi">30474247</span><span class="p">)</span> <span class="ow">and</span> <span class="n">wait_count</span> <span class="o">&lt;</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="GrandExchangeActions-38"><a href="#GrandExchangeActions-38"><span class="linenos"> 38</span></a>                <span class="c1"># Check if login screen appeared while waiting</span>
</span><span id="GrandExchangeActions-39"><a href="#GrandExchangeActions-39"><span class="linenos"> 39</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">is_login_screen</span><span class="p">():</span>
</span><span id="GrandExchangeActions-40"><a href="#GrandExchangeActions-40"><span class="linenos"> 40</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Login screen detected while waiting for Grand Exchange to open&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-41"><a href="#GrandExchangeActions-41"><span class="linenos"> 41</span></a>                    <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-42"><a href="#GrandExchangeActions-42"><span class="linenos"> 42</span></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-43"><a href="#GrandExchangeActions-43"><span class="linenos"> 43</span></a>                <span class="n">wait_count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="GrandExchangeActions-44"><a href="#GrandExchangeActions-44"><span class="linenos"> 44</span></a>
</span><span id="GrandExchangeActions-45"><a href="#GrandExchangeActions-45"><span class="linenos"> 45</span></a>            <span class="k">if</span> <span class="n">wait_count</span> <span class="o">&gt;=</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="GrandExchangeActions-46"><a href="#GrandExchangeActions-46"><span class="linenos"> 46</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Timeout waiting for Grand Exchange to open&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-47"><a href="#GrandExchangeActions-47"><span class="linenos"> 47</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-48"><a href="#GrandExchangeActions-48"><span class="linenos"> 48</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-49"><a href="#GrandExchangeActions-49"><span class="linenos"> 49</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="GrandExchangeActions-50"><a href="#GrandExchangeActions-50"><span class="linenos"> 50</span></a>
</span><span id="GrandExchangeActions-51"><a href="#GrandExchangeActions-51"><span class="linenos"> 51</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close_grand_exchange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions-52"><a href="#GrandExchangeActions-52"><span class="linenos"> 52</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span><span class="o">.</span><span class="n">does_widget_exist</span><span class="p">(</span><span class="mi">30474247</span><span class="p">):</span>
</span><span id="GrandExchangeActions-53"><a href="#GrandExchangeActions-53"><span class="linenos"> 53</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;Escape&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-54"><a href="#GrandExchangeActions-54"><span class="linenos"> 54</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
</span><span id="GrandExchangeActions-55"><a href="#GrandExchangeActions-55"><span class="linenos"> 55</span></a>
</span><span id="GrandExchangeActions-56"><a href="#GrandExchangeActions-56"><span class="linenos"> 56</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions-57"><a href="#GrandExchangeActions-57"><span class="linenos"> 57</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-58"><a href="#GrandExchangeActions-58"><span class="linenos"> 58</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-59"><a href="#GrandExchangeActions-59"><span class="linenos"> 59</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-60"><a href="#GrandExchangeActions-60"><span class="linenos"> 60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-61"><a href="#GrandExchangeActions-61"><span class="linenos"> 61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474246</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions-62"><a href="#GrandExchangeActions-62"><span class="linenos"> 62</span></a>
</span><span id="GrandExchangeActions-63"><a href="#GrandExchangeActions-63"><span class="linenos"> 63</span></a>    <span class="c1"># lets define some widgets</span>
</span><span id="GrandExchangeActions-64"><a href="#GrandExchangeActions-64"><span class="linenos"> 64</span></a>
</span><span id="GrandExchangeActions-65"><a href="#GrandExchangeActions-65"><span class="linenos"> 65</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="GrandExchangeActions-66"><a href="#GrandExchangeActions-66"><span class="linenos"> 66</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-67"><a href="#GrandExchangeActions-67"><span class="linenos"> 67</span></a><span class="sd">        This function clicks a finished buy mode slot to collect the items + gp.</span>
</span><span id="GrandExchangeActions-68"><a href="#GrandExchangeActions-68"><span class="linenos"> 68</span></a>
</span><span id="GrandExchangeActions-69"><a href="#GrandExchangeActions-69"><span class="linenos"> 69</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions-70"><a href="#GrandExchangeActions-70"><span class="linenos"> 70</span></a><span class="sd">            slot (int): _description_</span>
</span><span id="GrandExchangeActions-71"><a href="#GrandExchangeActions-71"><span class="linenos"> 71</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-72"><a href="#GrandExchangeActions-72"><span class="linenos"> 72</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-73"><a href="#GrandExchangeActions-73"><span class="linenos"> 73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">collect_within_slot</span><span class="p">()</span>
</span><span id="GrandExchangeActions-74"><a href="#GrandExchangeActions-74"><span class="linenos"> 74</span></a>
</span><span id="GrandExchangeActions-75"><a href="#GrandExchangeActions-75"><span class="linenos"> 75</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_within_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions-76"><a href="#GrandExchangeActions-76"><span class="linenos"> 76</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-77"><a href="#GrandExchangeActions-77"><span class="linenos"> 77</span></a><span class="sd">        This function collects the slots within the GE slot so the items + gp are collected.</span>
</span><span id="GrandExchangeActions-78"><a href="#GrandExchangeActions-78"><span class="linenos"> 78</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-79"><a href="#GrandExchangeActions-79"><span class="linenos"> 79</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-80"><a href="#GrandExchangeActions-80"><span class="linenos"> 80</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-81"><a href="#GrandExchangeActions-81"><span class="linenos"> 81</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-82"><a href="#GrandExchangeActions-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-83"><a href="#GrandExchangeActions-83"><span class="linenos"> 83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474264</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions-84"><a href="#GrandExchangeActions-84"><span class="linenos"> 84</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-85"><a href="#GrandExchangeActions-85"><span class="linenos"> 85</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-86"><a href="#GrandExchangeActions-86"><span class="linenos"> 86</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-87"><a href="#GrandExchangeActions-87"><span class="linenos"> 87</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-88"><a href="#GrandExchangeActions-88"><span class="linenos"> 88</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-89"><a href="#GrandExchangeActions-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474264</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="GrandExchangeActions-90"><a href="#GrandExchangeActions-90"><span class="linenos"> 90</span></a>
</span><span id="GrandExchangeActions-91"><a href="#GrandExchangeActions-91"><span class="linenos"> 91</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_ge_slot_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="GrandExchangeActions-92"><a href="#GrandExchangeActions-92"><span class="linenos"> 92</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-93"><a href="#GrandExchangeActions-93"><span class="linenos"> 93</span></a><span class="sd">        Gets the status of a specific Grand Exchange slot.</span>
</span><span id="GrandExchangeActions-94"><a href="#GrandExchangeActions-94"><span class="linenos"> 94</span></a>
</span><span id="GrandExchangeActions-95"><a href="#GrandExchangeActions-95"><span class="linenos"> 95</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions-96"><a href="#GrandExchangeActions-96"><span class="linenos"> 96</span></a><span class="sd">            slot (int): The GE slot to check (0-8).</span>
</span><span id="GrandExchangeActions-97"><a href="#GrandExchangeActions-97"><span class="linenos"> 97</span></a>
</span><span id="GrandExchangeActions-98"><a href="#GrandExchangeActions-98"><span class="linenos"> 98</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions-99"><a href="#GrandExchangeActions-99"><span class="linenos"> 99</span></a><span class="sd">            dict: A dictionary with the slot number as the key and its status (&quot;Full&quot; or &quot;Empty&quot;) as the value.</span>
</span><span id="GrandExchangeActions-100"><a href="#GrandExchangeActions-100"><span class="linenos">100</span></a>
</span><span id="GrandExchangeActions-101"><a href="#GrandExchangeActions-101"><span class="linenos">101</span></a><span class="sd">        Raises:</span>
</span><span id="GrandExchangeActions-102"><a href="#GrandExchangeActions-102"><span class="linenos">102</span></a><span class="sd">            ValueError: If the slot number is not between 0 and 8.</span>
</span><span id="GrandExchangeActions-103"><a href="#GrandExchangeActions-103"><span class="linenos">103</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-104"><a href="#GrandExchangeActions-104"><span class="linenos">104</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">slot</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="GrandExchangeActions-105"><a href="#GrandExchangeActions-105"><span class="linenos">105</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;GE slot must be between 0 and 8.&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-106"><a href="#GrandExchangeActions-106"><span class="linenos">106</span></a>
</span><span id="GrandExchangeActions-107"><a href="#GrandExchangeActions-107"><span class="linenos">107</span></a>        <span class="n">base_widget_id</span> <span class="o">=</span> <span class="mi">30474247</span>
</span><span id="GrandExchangeActions-108"><a href="#GrandExchangeActions-108"><span class="linenos">108</span></a>        <span class="n">widget_id</span> <span class="o">=</span> <span class="n">base_widget_id</span> <span class="o">+</span> <span class="n">slot</span>
</span><span id="GrandExchangeActions-109"><a href="#GrandExchangeActions-109"><span class="linenos">109</span></a>        <span class="n">widget_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="n">widget_id</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="GrandExchangeActions-110"><a href="#GrandExchangeActions-110"><span class="linenos">110</span></a>
</span><span id="GrandExchangeActions-111"><a href="#GrandExchangeActions-111"><span class="linenos">111</span></a>        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;Full&quot;</span> <span class="k">if</span> <span class="n">widget_text</span> <span class="o">!=</span> <span class="s2">&quot;Empty&quot;</span> <span class="k">else</span> <span class="s2">&quot;Empty&quot;</span>
</span><span id="GrandExchangeActions-112"><a href="#GrandExchangeActions-112"><span class="linenos">112</span></a>
</span><span id="GrandExchangeActions-113"><a href="#GrandExchangeActions-113"><span class="linenos">113</span></a>        <span class="k">return</span> <span class="p">{</span><span class="n">slot</span><span class="p">:</span> <span class="n">status</span><span class="p">}</span>
</span><span id="GrandExchangeActions-114"><a href="#GrandExchangeActions-114"><span class="linenos">114</span></a>
</span><span id="GrandExchangeActions-115"><a href="#GrandExchangeActions-115"><span class="linenos">115</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_ge_slot_statuses</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions-116"><a href="#GrandExchangeActions-116"><span class="linenos">116</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-117"><a href="#GrandExchangeActions-117"><span class="linenos">117</span></a><span class="sd">        Gets the status of all Grand Exchange slots.</span>
</span><span id="GrandExchangeActions-118"><a href="#GrandExchangeActions-118"><span class="linenos">118</span></a>
</span><span id="GrandExchangeActions-119"><a href="#GrandExchangeActions-119"><span class="linenos">119</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions-120"><a href="#GrandExchangeActions-120"><span class="linenos">120</span></a><span class="sd">            dict: A dictionary where keys are slot numbers (0-8) and values are their statuses (&quot;Full&quot; or &quot;Empty&quot;).</span>
</span><span id="GrandExchangeActions-121"><a href="#GrandExchangeActions-121"><span class="linenos">121</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-122"><a href="#GrandExchangeActions-122"><span class="linenos">122</span></a>        <span class="n">slot_statuses</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="GrandExchangeActions-123"><a href="#GrandExchangeActions-123"><span class="linenos">123</span></a>        <span class="n">base_widget_id</span> <span class="o">=</span> <span class="mi">30474247</span>
</span><span id="GrandExchangeActions-124"><a href="#GrandExchangeActions-124"><span class="linenos">124</span></a>        <span class="k">for</span> <span class="n">slot</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>  <span class="c1"># Slots 0-8</span>
</span><span id="GrandExchangeActions-125"><a href="#GrandExchangeActions-125"><span class="linenos">125</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="n">base_widget_id</span> <span class="o">+</span> <span class="n">slot</span>
</span><span id="GrandExchangeActions-126"><a href="#GrandExchangeActions-126"><span class="linenos">126</span></a>            <span class="n">widget_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="n">widget_id</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="GrandExchangeActions-127"><a href="#GrandExchangeActions-127"><span class="linenos">127</span></a>            <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;Full&quot;</span> <span class="k">if</span> <span class="n">widget_text</span> <span class="o">!=</span> <span class="s2">&quot;Empty&quot;</span> <span class="k">else</span> <span class="s2">&quot;Empty&quot;</span>
</span><span id="GrandExchangeActions-128"><a href="#GrandExchangeActions-128"><span class="linenos">128</span></a>            <span class="n">slot_statuses</span><span class="p">[</span><span class="n">slot</span><span class="p">]</span> <span class="o">=</span> <span class="n">status</span>
</span><span id="GrandExchangeActions-129"><a href="#GrandExchangeActions-129"><span class="linenos">129</span></a>        <span class="k">return</span> <span class="n">slot_statuses</span>
</span><span id="GrandExchangeActions-130"><a href="#GrandExchangeActions-130"><span class="linenos">130</span></a>
</span><span id="GrandExchangeActions-131"><a href="#GrandExchangeActions-131"><span class="linenos">131</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_ge_slot_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="GrandExchangeActions-132"><a href="#GrandExchangeActions-132"><span class="linenos">132</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ge_slot_status</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;Empty&quot;</span>
</span><span id="GrandExchangeActions-133"><a href="#GrandExchangeActions-133"><span class="linenos">133</span></a>
</span><span id="GrandExchangeActions-134"><a href="#GrandExchangeActions-134"><span class="linenos">134</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_ge_slot_bought</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="GrandExchangeActions-135"><a href="#GrandExchangeActions-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">click_ge_slot</span><span class="p">(</span><span class="n">slot</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions-136"><a href="#GrandExchangeActions-136"><span class="linenos">136</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions-137"><a href="#GrandExchangeActions-137"><span class="linenos">137</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions-138"><a href="#GrandExchangeActions-138"><span class="linenos">138</span></a>            <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="mi">30474263</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-139"><a href="#GrandExchangeActions-139"><span class="linenos">139</span></a>            <span class="k">return</span> <span class="s2">&quot;You have bought a total of 0 so farfor a total price of 0 coins.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">status</span>
</span><span id="GrandExchangeActions-140"><a href="#GrandExchangeActions-140"><span class="linenos">140</span></a>
</span><span id="GrandExchangeActions-141"><a href="#GrandExchangeActions-141"><span class="linenos">141</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">abort_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="GrandExchangeActions-142"><a href="#GrandExchangeActions-142"><span class="linenos">142</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions-143"><a href="#GrandExchangeActions-143"><span class="linenos">143</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-144"><a href="#GrandExchangeActions-144"><span class="linenos">144</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-145"><a href="#GrandExchangeActions-145"><span class="linenos">145</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-146"><a href="#GrandExchangeActions-146"><span class="linenos">146</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-147"><a href="#GrandExchangeActions-147"><span class="linenos">147</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-148"><a href="#GrandExchangeActions-148"><span class="linenos">148</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474263</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="GrandExchangeActions-149"><a href="#GrandExchangeActions-149"><span class="linenos">149</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="GrandExchangeActions-150"><a href="#GrandExchangeActions-150"><span class="linenos">150</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-151"><a href="#GrandExchangeActions-151"><span class="linenos">151</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-152"><a href="#GrandExchangeActions-152"><span class="linenos">152</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-153"><a href="#GrandExchangeActions-153"><span class="linenos">153</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-154"><a href="#GrandExchangeActions-154"><span class="linenos">154</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474264</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions-155"><a href="#GrandExchangeActions-155"><span class="linenos">155</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="GrandExchangeActions-156"><a href="#GrandExchangeActions-156"><span class="linenos">156</span></a>
</span><span id="GrandExchangeActions-157"><a href="#GrandExchangeActions-157"><span class="linenos">157</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_actively_traded_price</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions-158"><a href="#GrandExchangeActions-158"><span class="linenos">158</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-159"><a href="#GrandExchangeActions-159"><span class="linenos">159</span></a><span class="sd">        Gets the actively traded price from the Grand Exchange interface.</span>
</span><span id="GrandExchangeActions-160"><a href="#GrandExchangeActions-160"><span class="linenos">160</span></a>
</span><span id="GrandExchangeActions-161"><a href="#GrandExchangeActions-161"><span class="linenos">161</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions-162"><a href="#GrandExchangeActions-162"><span class="linenos">162</span></a><span class="sd">            int: The actively traded price, or 0 if parsing fails</span>
</span><span id="GrandExchangeActions-163"><a href="#GrandExchangeActions-163"><span class="linenos">163</span></a>
</span><span id="GrandExchangeActions-164"><a href="#GrandExchangeActions-164"><span class="linenos">164</span></a><span class="sd">        Example text format:</span>
</span><span id="GrandExchangeActions-165"><a href="#GrandExchangeActions-165"><span class="linenos">165</span></a><span class="sd">        &quot;Looks tasty.Buy limit: 15 (3:50) / Actively traded price: 491&quot;</span>
</span><span id="GrandExchangeActions-166"><a href="#GrandExchangeActions-166"><span class="linenos">166</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-167"><a href="#GrandExchangeActions-167"><span class="linenos">167</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="GrandExchangeActions-168"><a href="#GrandExchangeActions-168"><span class="linenos">168</span></a>            <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="mi">30474267</span><span class="p">)</span>
</span><span id="GrandExchangeActions-169"><a href="#GrandExchangeActions-169"><span class="linenos">169</span></a>
</span><span id="GrandExchangeActions-170"><a href="#GrandExchangeActions-170"><span class="linenos">170</span></a>            <span class="c1"># Debug: Always log what we&#39;re getting</span>
</span><span id="GrandExchangeActions-171"><a href="#GrandExchangeActions-171"><span class="linenos">171</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] GE Widget 30474267 text: &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-172"><a href="#GrandExchangeActions-172"><span class="linenos">172</span></a>
</span><span id="GrandExchangeActions-173"><a href="#GrandExchangeActions-173"><span class="linenos">173</span></a>            <span class="c1"># Check if text is empty or None</span>
</span><span id="GrandExchangeActions-174"><a href="#GrandExchangeActions-174"><span class="linenos">174</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
</span><span id="GrandExchangeActions-175"><a href="#GrandExchangeActions-175"><span class="linenos">175</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] Grand Exchange widget text is empty - interface may not be open or widget ID may be wrong&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-176"><a href="#GrandExchangeActions-176"><span class="linenos">176</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="GrandExchangeActions-177"><a href="#GrandExchangeActions-177"><span class="linenos">177</span></a>
</span><span id="GrandExchangeActions-178"><a href="#GrandExchangeActions-178"><span class="linenos">178</span></a>            <span class="c1"># Check if the expected format is present</span>
</span><span id="GrandExchangeActions-179"><a href="#GrandExchangeActions-179"><span class="linenos">179</span></a>            <span class="k">if</span> <span class="s2">&quot;Actively traded price: &quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
</span><span id="GrandExchangeActions-180"><a href="#GrandExchangeActions-180"><span class="linenos">180</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Expected &#39;Actively traded price:&#39; not found in text: &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-181"><a href="#GrandExchangeActions-181"><span class="linenos">181</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] This suggests either:&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-182"><a href="#GrandExchangeActions-182"><span class="linenos">182</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] 1. Grand Exchange interface is not properly open&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-183"><a href="#GrandExchangeActions-183"><span class="linenos">183</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] 2. No item is selected in the interface&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-184"><a href="#GrandExchangeActions-184"><span class="linenos">184</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] 3. Widget ID 30474267 is incorrect&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-185"><a href="#GrandExchangeActions-185"><span class="linenos">185</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="GrandExchangeActions-186"><a href="#GrandExchangeActions-186"><span class="linenos">186</span></a>
</span><span id="GrandExchangeActions-187"><a href="#GrandExchangeActions-187"><span class="linenos">187</span></a>            <span class="c1"># Parse the price</span>
</span><span id="GrandExchangeActions-188"><a href="#GrandExchangeActions-188"><span class="linenos">188</span></a>            <span class="n">price_text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Actively traded price: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="GrandExchangeActions-189"><a href="#GrandExchangeActions-189"><span class="linenos">189</span></a>            <span class="n">price</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">price_text</span><span class="p">)</span>
</span><span id="GrandExchangeActions-190"><a href="#GrandExchangeActions-190"><span class="linenos">190</span></a>
</span><span id="GrandExchangeActions-191"><a href="#GrandExchangeActions-191"><span class="linenos">191</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] Successfully parsed actively traded price: </span><span class="si">{</span><span class="n">price</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-192"><a href="#GrandExchangeActions-192"><span class="linenos">192</span></a>            <span class="k">return</span> <span class="n">price</span>
</span><span id="GrandExchangeActions-193"><a href="#GrandExchangeActions-193"><span class="linenos">193</span></a>
</span><span id="GrandExchangeActions-194"><a href="#GrandExchangeActions-194"><span class="linenos">194</span></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="GrandExchangeActions-195"><a href="#GrandExchangeActions-195"><span class="linenos">195</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to parse actively traded price from text: &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-196"><a href="#GrandExchangeActions-196"><span class="linenos">196</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-197"><a href="#GrandExchangeActions-197"><span class="linenos">197</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="GrandExchangeActions-198"><a href="#GrandExchangeActions-198"><span class="linenos">198</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="GrandExchangeActions-199"><a href="#GrandExchangeActions-199"><span class="linenos">199</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Unexpected error getting actively traded price: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-200"><a href="#GrandExchangeActions-200"><span class="linenos">200</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="GrandExchangeActions-201"><a href="#GrandExchangeActions-201"><span class="linenos">201</span></a>
</span><span id="GrandExchangeActions-202"><a href="#GrandExchangeActions-202"><span class="linenos">202</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">ge_buy_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">item_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">6</span><span class="p">):</span>
</span><span id="GrandExchangeActions-203"><a href="#GrandExchangeActions-203"><span class="linenos">203</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-204"><a href="#GrandExchangeActions-204"><span class="linenos">204</span></a><span class="sd">        This function can search for any item in the ge by a general string and then click the ID of the actual item you want if it is returned.</span>
</span><span id="GrandExchangeActions-205"><a href="#GrandExchangeActions-205"><span class="linenos">205</span></a><span class="sd">        It will then click the item and return the widget ID of the item you clicked. and index - 2 because id is stored in a widget without interaction.</span>
</span><span id="GrandExchangeActions-206"><a href="#GrandExchangeActions-206"><span class="linenos">206</span></a>
</span><span id="GrandExchangeActions-207"><a href="#GrandExchangeActions-207"><span class="linenos">207</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions-208"><a href="#GrandExchangeActions-208"><span class="linenos">208</span></a><span class="sd">            item_id (int): exact item id to click</span>
</span><span id="GrandExchangeActions-209"><a href="#GrandExchangeActions-209"><span class="linenos">209</span></a><span class="sd">            item_name (str): general string to search for (try to be specific)</span>
</span><span id="GrandExchangeActions-210"><a href="#GrandExchangeActions-210"><span class="linenos">210</span></a><span class="sd">            buy_slot (int, optional): Which ge buy slot to use (0-8). Defaults to 0.</span>
</span><span id="GrandExchangeActions-211"><a href="#GrandExchangeActions-211"><span class="linenos">211</span></a><span class="sd">            quantity (int, optional): Quantity to buy. Defaults to 1.</span>
</span><span id="GrandExchangeActions-212"><a href="#GrandExchangeActions-212"><span class="linenos">212</span></a><span class="sd">            price_increase (int, optional): Price increase to buy at (5% increments). Defaults to 6.</span>
</span><span id="GrandExchangeActions-213"><a href="#GrandExchangeActions-213"><span class="linenos">213</span></a>
</span><span id="GrandExchangeActions-214"><a href="#GrandExchangeActions-214"><span class="linenos">214</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions-215"><a href="#GrandExchangeActions-215"><span class="linenos">215</span></a><span class="sd">            bool: True if purchase was successful, False otherwise</span>
</span><span id="GrandExchangeActions-216"><a href="#GrandExchangeActions-216"><span class="linenos">216</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-217"><a href="#GrandExchangeActions-217"><span class="linenos">217</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] Starting GE purchase: </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> (ID: </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-218"><a href="#GrandExchangeActions-218"><span class="linenos">218</span></a>
</span><span id="GrandExchangeActions-219"><a href="#GrandExchangeActions-219"><span class="linenos">219</span></a>        <span class="c1"># First attempt</span>
</span><span id="GrandExchangeActions-220"><a href="#GrandExchangeActions-220"><span class="linenos">220</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] First attempt to buy </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-221"><a href="#GrandExchangeActions-221"><span class="linenos">221</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attempt_purchase</span><span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item_name</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">):</span>
</span><span id="GrandExchangeActions-222"><a href="#GrandExchangeActions-222"><span class="linenos">222</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[SUCCESS] Successfully purchased </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> on first attempt&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-223"><a href="#GrandExchangeActions-223"><span class="linenos">223</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="GrandExchangeActions-224"><a href="#GrandExchangeActions-224"><span class="linenos">224</span></a>
</span><span id="GrandExchangeActions-225"><a href="#GrandExchangeActions-225"><span class="linenos">225</span></a>        <span class="c1"># Second attempt with higher price</span>
</span><span id="GrandExchangeActions-226"><a href="#GrandExchangeActions-226"><span class="linenos">226</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] First attempt failed, trying second attempt with higher price for </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-227"><a href="#GrandExchangeActions-227"><span class="linenos">227</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attempt_purchase</span><span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item_name</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">price_increase</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="n">is_retry</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="GrandExchangeActions-228"><a href="#GrandExchangeActions-228"><span class="linenos">228</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[SUCCESS] Successfully purchased </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> on second attempt&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-229"><a href="#GrandExchangeActions-229"><span class="linenos">229</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="GrandExchangeActions-230"><a href="#GrandExchangeActions-230"><span class="linenos">230</span></a>
</span><span id="GrandExchangeActions-231"><a href="#GrandExchangeActions-231"><span class="linenos">231</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to purchase </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> after both attempts&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-232"><a href="#GrandExchangeActions-232"><span class="linenos">232</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-233"><a href="#GrandExchangeActions-233"><span class="linenos">233</span></a>
</span><span id="GrandExchangeActions-234"><a href="#GrandExchangeActions-234"><span class="linenos">234</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_attempt_purchase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">item_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">is_retry</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="GrandExchangeActions-235"><a href="#GrandExchangeActions-235"><span class="linenos">235</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Attempt a single purchase with error handling&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-236"><a href="#GrandExchangeActions-236"><span class="linenos">236</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="GrandExchangeActions-237"><a href="#GrandExchangeActions-237"><span class="linenos">237</span></a>            <span class="c1"># Click the buy slot</span>
</span><span id="GrandExchangeActions-238"><a href="#GrandExchangeActions-238"><span class="linenos">238</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Clicking GE slot </span><span class="si">{</span><span class="n">buy_slot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-239"><a href="#GrandExchangeActions-239"><span class="linenos">239</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">click_ge_slot</span><span class="p">(</span><span class="n">buy_slot</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="GrandExchangeActions-240"><a href="#GrandExchangeActions-240"><span class="linenos">240</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.3</span><span class="p">)</span>  <span class="c1"># Increased wait time</span>
</span><span id="GrandExchangeActions-241"><a href="#GrandExchangeActions-241"><span class="linenos">241</span></a>
</span><span id="GrandExchangeActions-242"><a href="#GrandExchangeActions-242"><span class="linenos">242</span></a>            <span class="c1"># Search for item</span>
</span><span id="GrandExchangeActions-243"><a href="#GrandExchangeActions-243"><span class="linenos">243</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Searching for </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-244"><a href="#GrandExchangeActions-244"><span class="linenos">244</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_string</span><span class="p">(</span><span class="n">item_name</span><span class="p">)</span>
</span><span id="GrandExchangeActions-245"><a href="#GrandExchangeActions-245"><span class="linenos">245</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Increased wait time for search results</span>
</span><span id="GrandExchangeActions-246"><a href="#GrandExchangeActions-246"><span class="linenos">246</span></a>
</span><span id="GrandExchangeActions-247"><a href="#GrandExchangeActions-247"><span class="linenos">247</span></a>            <span class="c1"># Click the search result</span>
</span><span id="GrandExchangeActions-248"><a href="#GrandExchangeActions-248"><span class="linenos">248</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Clicking search result for </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-249"><a href="#GrandExchangeActions-249"><span class="linenos">249</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">click_search_result</span><span class="p">(</span><span class="n">item_id</span><span class="p">):</span>
</span><span id="GrandExchangeActions-250"><a href="#GrandExchangeActions-250"><span class="linenos">250</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to click search result for </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-251"><a href="#GrandExchangeActions-251"><span class="linenos">251</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-252"><a href="#GrandExchangeActions-252"><span class="linenos">252</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Increased wait time</span>
</span><span id="GrandExchangeActions-253"><a href="#GrandExchangeActions-253"><span class="linenos">253</span></a>
</span><span id="GrandExchangeActions-254"><a href="#GrandExchangeActions-254"><span class="linenos">254</span></a>            <span class="c1"># Set quantity</span>
</span><span id="GrandExchangeActions-255"><a href="#GrandExchangeActions-255"><span class="linenos">255</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Setting quantity to </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-256"><a href="#GrandExchangeActions-256"><span class="linenos">256</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_buy_quantity</span><span class="p">(</span><span class="n">quantity</span><span class="p">)</span>
</span><span id="GrandExchangeActions-257"><a href="#GrandExchangeActions-257"><span class="linenos">257</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-258"><a href="#GrandExchangeActions-258"><span class="linenos">258</span></a>
</span><span id="GrandExchangeActions-259"><a href="#GrandExchangeActions-259"><span class="linenos">259</span></a>            <span class="c1"># Set price - always try to get actively traded price first</span>
</span><span id="GrandExchangeActions-260"><a href="#GrandExchangeActions-260"><span class="linenos">260</span></a>            <span class="n">price</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_actively_traded_price</span><span class="p">()</span>
</span><span id="GrandExchangeActions-261"><a href="#GrandExchangeActions-261"><span class="linenos">261</span></a>            <span class="k">if</span> <span class="n">price</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions-262"><a href="#GrandExchangeActions-262"><span class="linenos">262</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Using actively traded price: </span><span class="si">{</span><span class="n">price</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-263"><a href="#GrandExchangeActions-263"><span class="linenos">263</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_exact_price</span><span class="p">(</span><span class="n">price</span><span class="p">)</span>
</span><span id="GrandExchangeActions-264"><a href="#GrandExchangeActions-264"><span class="linenos">264</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_price_increase</span><span class="p">(</span><span class="n">price_increase</span><span class="p">)</span>
</span><span id="GrandExchangeActions-265"><a href="#GrandExchangeActions-265"><span class="linenos">265</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="GrandExchangeActions-266"><a href="#GrandExchangeActions-266"><span class="linenos">266</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] No actively traded price found, using price increase: </span><span class="si">{</span><span class="n">price_increase</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-267"><a href="#GrandExchangeActions-267"><span class="linenos">267</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_price_increase</span><span class="p">(</span><span class="n">price_increase</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="GrandExchangeActions-268"><a href="#GrandExchangeActions-268"><span class="linenos">268</span></a>
</span><span id="GrandExchangeActions-269"><a href="#GrandExchangeActions-269"><span class="linenos">269</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-270"><a href="#GrandExchangeActions-270"><span class="linenos">270</span></a>
</span><span id="GrandExchangeActions-271"><a href="#GrandExchangeActions-271"><span class="linenos">271</span></a>            <span class="c1"># Confirm purchase</span>
</span><span id="GrandExchangeActions-272"><a href="#GrandExchangeActions-272"><span class="linenos">272</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[DEBUG] Confirming purchase&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-273"><a href="#GrandExchangeActions-273"><span class="linenos">273</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474270</span><span class="p">)</span>
</span><span id="GrandExchangeActions-274"><a href="#GrandExchangeActions-274"><span class="linenos">274</span></a>            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">):</span>
</span><span id="GrandExchangeActions-275"><a href="#GrandExchangeActions-275"><span class="linenos">275</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to click confirm button: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-276"><a href="#GrandExchangeActions-276"><span class="linenos">276</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-277"><a href="#GrandExchangeActions-277"><span class="linenos">277</span></a>
</span><span id="GrandExchangeActions-278"><a href="#GrandExchangeActions-278"><span class="linenos">278</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># Increased wait time for purchase to process</span>
</span><span id="GrandExchangeActions-279"><a href="#GrandExchangeActions-279"><span class="linenos">279</span></a>
</span><span id="GrandExchangeActions-280"><a href="#GrandExchangeActions-280"><span class="linenos">280</span></a>            <span class="c1"># Check if purchase was successful</span>
</span><span id="GrandExchangeActions-281"><a href="#GrandExchangeActions-281"><span class="linenos">281</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_ge_slot_bought</span><span class="p">(</span><span class="n">buy_slot</span><span class="p">):</span>
</span><span id="GrandExchangeActions-282"><a href="#GrandExchangeActions-282"><span class="linenos">282</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[DEBUG] Purchase successful, collecting slot&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-283"><a href="#GrandExchangeActions-283"><span class="linenos">283</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">collect_slot</span><span class="p">(</span><span class="n">buy_slot</span><span class="p">)</span>
</span><span id="GrandExchangeActions-284"><a href="#GrandExchangeActions-284"><span class="linenos">284</span></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-285"><a href="#GrandExchangeActions-285"><span class="linenos">285</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="GrandExchangeActions-286"><a href="#GrandExchangeActions-286"><span class="linenos">286</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="GrandExchangeActions-287"><a href="#GrandExchangeActions-287"><span class="linenos">287</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[DEBUG] Purchase failed, aborting offer&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-288"><a href="#GrandExchangeActions-288"><span class="linenos">288</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">abort_offer</span><span class="p">(</span><span class="n">buy_slot</span><span class="p">)</span>
</span><span id="GrandExchangeActions-289"><a href="#GrandExchangeActions-289"><span class="linenos">289</span></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-290"><a href="#GrandExchangeActions-290"><span class="linenos">290</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-291"><a href="#GrandExchangeActions-291"><span class="linenos">291</span></a>
</span><span id="GrandExchangeActions-292"><a href="#GrandExchangeActions-292"><span class="linenos">292</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="GrandExchangeActions-293"><a href="#GrandExchangeActions-293"><span class="linenos">293</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Error during purchase attempt: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-294"><a href="#GrandExchangeActions-294"><span class="linenos">294</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-295"><a href="#GrandExchangeActions-295"><span class="linenos">295</span></a>
</span><span id="GrandExchangeActions-296"><a href="#GrandExchangeActions-296"><span class="linenos">296</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_price_increase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">):</span>
</span><span id="GrandExchangeActions-297"><a href="#GrandExchangeActions-297"><span class="linenos">297</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;_summary_</span>
</span><span id="GrandExchangeActions-298"><a href="#GrandExchangeActions-298"><span class="linenos">298</span></a><span class="sd">        This function will set the price increase for the item.</span>
</span><span id="GrandExchangeActions-299"><a href="#GrandExchangeActions-299"><span class="linenos">299</span></a><span class="sd">        It will click the price increase 5% button 3 times by default.</span>
</span><span id="GrandExchangeActions-300"><a href="#GrandExchangeActions-300"><span class="linenos">300</span></a><span class="sd">        It will sleep for a random amount of time between 0.5 and 1.5 seconds.</span>
</span><span id="GrandExchangeActions-301"><a href="#GrandExchangeActions-301"><span class="linenos">301</span></a>
</span><span id="GrandExchangeActions-302"><a href="#GrandExchangeActions-302"><span class="linenos">302</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions-303"><a href="#GrandExchangeActions-303"><span class="linenos">303</span></a><span class="sd">            price_increase (int, optional): Number of times to click the price increase button. Defaults to 3.</span>
</span><span id="GrandExchangeActions-304"><a href="#GrandExchangeActions-304"><span class="linenos">304</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-305"><a href="#GrandExchangeActions-305"><span class="linenos">305</span></a>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">price_increase</span><span class="p">):</span>
</span><span id="GrandExchangeActions-306"><a href="#GrandExchangeActions-306"><span class="linenos">306</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-307"><a href="#GrandExchangeActions-307"><span class="linenos">307</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-308"><a href="#GrandExchangeActions-308"><span class="linenos">308</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-309"><a href="#GrandExchangeActions-309"><span class="linenos">309</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-310"><a href="#GrandExchangeActions-310"><span class="linenos">310</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474266</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>
</span><span id="GrandExchangeActions-311"><a href="#GrandExchangeActions-311"><span class="linenos">311</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">))</span>
</span><span id="GrandExchangeActions-312"><a href="#GrandExchangeActions-312"><span class="linenos">312</span></a>
</span><span id="GrandExchangeActions-313"><a href="#GrandExchangeActions-313"><span class="linenos">313</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_exact_price</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="GrandExchangeActions-314"><a href="#GrandExchangeActions-314"><span class="linenos">314</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-315"><a href="#GrandExchangeActions-315"><span class="linenos">315</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-316"><a href="#GrandExchangeActions-316"><span class="linenos">316</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-317"><a href="#GrandExchangeActions-317"><span class="linenos">317</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-318"><a href="#GrandExchangeActions-318"><span class="linenos">318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474266</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
</span><span id="GrandExchangeActions-319"><a href="#GrandExchangeActions-319"><span class="linenos">319</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions-320"><a href="#GrandExchangeActions-320"><span class="linenos">320</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_string</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">price</span><span class="p">))</span>
</span><span id="GrandExchangeActions-321"><a href="#GrandExchangeActions-321"><span class="linenos">321</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions-322"><a href="#GrandExchangeActions-322"><span class="linenos">322</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-323"><a href="#GrandExchangeActions-323"><span class="linenos">323</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-324"><a href="#GrandExchangeActions-324"><span class="linenos">324</span></a>
</span><span id="GrandExchangeActions-325"><a href="#GrandExchangeActions-325"><span class="linenos">325</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_buy_quantity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="GrandExchangeActions-326"><a href="#GrandExchangeActions-326"><span class="linenos">326</span></a>        <span class="k">if</span> <span class="n">quantity</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GrandExchangeActions-327"><a href="#GrandExchangeActions-327"><span class="linenos">327</span></a>            <span class="k">return</span>
</span><span id="GrandExchangeActions-328"><a href="#GrandExchangeActions-328"><span class="linenos">328</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-329"><a href="#GrandExchangeActions-329"><span class="linenos">329</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-330"><a href="#GrandExchangeActions-330"><span class="linenos">330</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-331"><a href="#GrandExchangeActions-331"><span class="linenos">331</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-332"><a href="#GrandExchangeActions-332"><span class="linenos">332</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474266</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
</span><span id="GrandExchangeActions-333"><a href="#GrandExchangeActions-333"><span class="linenos">333</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions-334"><a href="#GrandExchangeActions-334"><span class="linenos">334</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_string</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">quantity</span><span class="p">))</span>
</span><span id="GrandExchangeActions-335"><a href="#GrandExchangeActions-335"><span class="linenos">335</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-336"><a href="#GrandExchangeActions-336"><span class="linenos">336</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-337"><a href="#GrandExchangeActions-337"><span class="linenos">337</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-338"><a href="#GrandExchangeActions-338"><span class="linenos">338</span></a>
</span><span id="GrandExchangeActions-339"><a href="#GrandExchangeActions-339"><span class="linenos">339</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">click_search_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="GrandExchangeActions-340"><a href="#GrandExchangeActions-340"><span class="linenos">340</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Click on a search result for the specified item ID&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-341"><a href="#GrandExchangeActions-341"><span class="linenos">341</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="GrandExchangeActions-342"><a href="#GrandExchangeActions-342"><span class="linenos">342</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Getting search results for item ID </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-343"><a href="#GrandExchangeActions-343"><span class="linenos">343</span></a>            <span class="n">search_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">get_ge_search_results</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
</span><span id="GrandExchangeActions-344"><a href="#GrandExchangeActions-344"><span class="linenos">344</span></a>
</span><span id="GrandExchangeActions-345"><a href="#GrandExchangeActions-345"><span class="linenos">345</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">search_results</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">search_results</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions-346"><a href="#GrandExchangeActions-346"><span class="linenos">346</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] No search results found for item ID </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-347"><a href="#GrandExchangeActions-347"><span class="linenos">347</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-348"><a href="#GrandExchangeActions-348"><span class="linenos">348</span></a>
</span><span id="GrandExchangeActions-349"><a href="#GrandExchangeActions-349"><span class="linenos">349</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">search_results</span><span class="p">)</span><span class="si">}</span><span class="s2"> search results&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-350"><a href="#GrandExchangeActions-350"><span class="linenos">350</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">search_results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;widgetId&quot;</span><span class="p">])</span>
</span><span id="GrandExchangeActions-351"><a href="#GrandExchangeActions-351"><span class="linenos">351</span></a>            <span class="n">widget_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">search_results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;index&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># subtract 2 because id is stored in a widget without interaction</span>
</span><span id="GrandExchangeActions-352"><a href="#GrandExchangeActions-352"><span class="linenos">352</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-353"><a href="#GrandExchangeActions-353"><span class="linenos">353</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-354"><a href="#GrandExchangeActions-354"><span class="linenos">354</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-355"><a href="#GrandExchangeActions-355"><span class="linenos">355</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-356"><a href="#GrandExchangeActions-356"><span class="linenos">356</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Clicking widget </span><span class="si">{</span><span class="n">widget_id</span><span class="si">}</span><span class="s2"> at index </span><span class="si">{</span><span class="n">widget_index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-357"><a href="#GrandExchangeActions-357"><span class="linenos">357</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="n">widget_id</span><span class="p">,</span> <span class="n">widget_index</span><span class="p">)</span>
</span><span id="GrandExchangeActions-358"><a href="#GrandExchangeActions-358"><span class="linenos">358</span></a>
</span><span id="GrandExchangeActions-359"><a href="#GrandExchangeActions-359"><span class="linenos">359</span></a>            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">):</span>
</span><span id="GrandExchangeActions-360"><a href="#GrandExchangeActions-360"><span class="linenos">360</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to click search result: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-361"><a href="#GrandExchangeActions-361"><span class="linenos">361</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-362"><a href="#GrandExchangeActions-362"><span class="linenos">362</span></a>
</span><span id="GrandExchangeActions-363"><a href="#GrandExchangeActions-363"><span class="linenos">363</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Increased wait time</span>
</span><span id="GrandExchangeActions-364"><a href="#GrandExchangeActions-364"><span class="linenos">364</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="GrandExchangeActions-365"><a href="#GrandExchangeActions-365"><span class="linenos">365</span></a>
</span><span id="GrandExchangeActions-366"><a href="#GrandExchangeActions-366"><span class="linenos">366</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="GrandExchangeActions-367"><a href="#GrandExchangeActions-367"><span class="linenos">367</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Error clicking search result: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions-368"><a href="#GrandExchangeActions-368"><span class="linenos">368</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions-369"><a href="#GrandExchangeActions-369"><span class="linenos">369</span></a>
</span><span id="GrandExchangeActions-370"><a href="#GrandExchangeActions-370"><span class="linenos">370</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">click_ge_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">):</span>
</span><span id="GrandExchangeActions-371"><a href="#GrandExchangeActions-371"><span class="linenos">371</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;_summary_</span>
</span><span id="GrandExchangeActions-372"><a href="#GrandExchangeActions-372"><span class="linenos">372</span></a><span class="sd">        mode 2 is the default to click a completed slot</span>
</span><span id="GrandExchangeActions-373"><a href="#GrandExchangeActions-373"><span class="linenos">373</span></a><span class="sd">        mode 3 is the default to buy items</span>
</span><span id="GrandExchangeActions-374"><a href="#GrandExchangeActions-374"><span class="linenos">374</span></a><span class="sd">        mode 4 is the default to sell items</span>
</span><span id="GrandExchangeActions-375"><a href="#GrandExchangeActions-375"><span class="linenos">375</span></a>
</span><span id="GrandExchangeActions-376"><a href="#GrandExchangeActions-376"><span class="linenos">376</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions-377"><a href="#GrandExchangeActions-377"><span class="linenos">377</span></a><span class="sd">            buy_slot (int): the slot to use</span>
</span><span id="GrandExchangeActions-378"><a href="#GrandExchangeActions-378"><span class="linenos">378</span></a><span class="sd">            mode (int, optional): defaults to buy mode. 2 is to click a completed slot. 4 is to sell items.</span>
</span><span id="GrandExchangeActions-379"><a href="#GrandExchangeActions-379"><span class="linenos">379</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-380"><a href="#GrandExchangeActions-380"><span class="linenos">380</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-381"><a href="#GrandExchangeActions-381"><span class="linenos">381</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-382"><a href="#GrandExchangeActions-382"><span class="linenos">382</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-383"><a href="#GrandExchangeActions-383"><span class="linenos">383</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-384"><a href="#GrandExchangeActions-384"><span class="linenos">384</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions-385"><a href="#GrandExchangeActions-385"><span class="linenos">385</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474247</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions-386"><a href="#GrandExchangeActions-386"><span class="linenos">386</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GrandExchangeActions-387"><a href="#GrandExchangeActions-387"><span class="linenos">387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474248</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions-388"><a href="#GrandExchangeActions-388"><span class="linenos">388</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="GrandExchangeActions-389"><a href="#GrandExchangeActions-389"><span class="linenos">389</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474249</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions-390"><a href="#GrandExchangeActions-390"><span class="linenos">390</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="GrandExchangeActions-391"><a href="#GrandExchangeActions-391"><span class="linenos">391</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474250</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions-392"><a href="#GrandExchangeActions-392"><span class="linenos">392</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
</span><span id="GrandExchangeActions-393"><a href="#GrandExchangeActions-393"><span class="linenos">393</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474251</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions-394"><a href="#GrandExchangeActions-394"><span class="linenos">394</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
</span><span id="GrandExchangeActions-395"><a href="#GrandExchangeActions-395"><span class="linenos">395</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474252</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions-396"><a href="#GrandExchangeActions-396"><span class="linenos">396</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
</span><span id="GrandExchangeActions-397"><a href="#GrandExchangeActions-397"><span class="linenos">397</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474253</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions-398"><a href="#GrandExchangeActions-398"><span class="linenos">398</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
</span><span id="GrandExchangeActions-399"><a href="#GrandExchangeActions-399"><span class="linenos">399</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474254</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions-400"><a href="#GrandExchangeActions-400"><span class="linenos">400</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="GrandExchangeActions-401"><a href="#GrandExchangeActions-401"><span class="linenos">401</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474255</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions-402"><a href="#GrandExchangeActions-402"><span class="linenos">402</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions-403"><a href="#GrandExchangeActions-403"><span class="linenos">403</span></a>
</span><span id="GrandExchangeActions-404"><a href="#GrandExchangeActions-404"><span class="linenos">404</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">select_menu_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">widget_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">option_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">menu_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">consume</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="GrandExchangeActions-405"><a href="#GrandExchangeActions-405"><span class="linenos">405</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-406"><a href="#GrandExchangeActions-406"><span class="linenos">406</span></a><span class="sd">        Selects a menu option for a specific widget/menu entry.</span>
</span><span id="GrandExchangeActions-407"><a href="#GrandExchangeActions-407"><span class="linenos">407</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions-408"><a href="#GrandExchangeActions-408"><span class="linenos">408</span></a><span class="sd">            option (str): The menu option to select (required)</span>
</span><span id="GrandExchangeActions-409"><a href="#GrandExchangeActions-409"><span class="linenos">409</span></a><span class="sd">            widget_id (int, optional): The widget ID (was param1). Defaults to -1.</span>
</span><span id="GrandExchangeActions-410"><a href="#GrandExchangeActions-410"><span class="linenos">410</span></a><span class="sd">            option_index (int, optional): The option index (was param0, usually 2 for abort). Defaults to 2.</span>
</span><span id="GrandExchangeActions-411"><a href="#GrandExchangeActions-411"><span class="linenos">411</span></a><span class="sd">            menu_index (int, optional): The menu index/identifier (was identifier, e.g. 2 for abort). Defaults to 2.</span>
</span><span id="GrandExchangeActions-412"><a href="#GrandExchangeActions-412"><span class="linenos">412</span></a><span class="sd">            item_id (int, optional): Item ID for the menu entry. Defaults to -1.</span>
</span><span id="GrandExchangeActions-413"><a href="#GrandExchangeActions-413"><span class="linenos">413</span></a><span class="sd">            consume (bool, optional): Whether to consume the click. Defaults to True.</span>
</span><span id="GrandExchangeActions-414"><a href="#GrandExchangeActions-414"><span class="linenos">414</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions-415"><a href="#GrandExchangeActions-415"><span class="linenos">415</span></a><span class="sd">            dict: Response from the API indicating success or failure</span>
</span><span id="GrandExchangeActions-416"><a href="#GrandExchangeActions-416"><span class="linenos">416</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-417"><a href="#GrandExchangeActions-417"><span class="linenos">417</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions-418"><a href="#GrandExchangeActions-418"><span class="linenos">418</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-419"><a href="#GrandExchangeActions-419"><span class="linenos">419</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions-420"><a href="#GrandExchangeActions-420"><span class="linenos">420</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions-421"><a href="#GrandExchangeActions-421"><span class="linenos">421</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">select_menu_option</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">widget_id</span><span class="p">,</span> <span class="n">option_index</span><span class="p">,</span> <span class="n">menu_index</span><span class="p">,</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">consume</span><span class="p">)</span>
</span><span id="GrandExchangeActions-422"><a href="#GrandExchangeActions-422"><span class="linenos">422</span></a>
</span><span id="GrandExchangeActions-423"><a href="#GrandExchangeActions-423"><span class="linenos">423</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">abort_ge_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="GrandExchangeActions-424"><a href="#GrandExchangeActions-424"><span class="linenos">424</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-425"><a href="#GrandExchangeActions-425"><span class="linenos">425</span></a><span class="sd">        Aborts a Grand Exchange offer by selecting the &quot;Abort offer&quot; menu option with the required params.</span>
</span><span id="GrandExchangeActions-426"><a href="#GrandExchangeActions-426"><span class="linenos">426</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions-427"><a href="#GrandExchangeActions-427"><span class="linenos">427</span></a><span class="sd">            widget_id (int): The widget ID (param1)</span>
</span><span id="GrandExchangeActions-428"><a href="#GrandExchangeActions-428"><span class="linenos">428</span></a><span class="sd">            item_id (int, optional): Item ID for the menu entry. Defaults to -1.</span>
</span><span id="GrandExchangeActions-429"><a href="#GrandExchangeActions-429"><span class="linenos">429</span></a><span class="sd">            consume (bool, optional): Whether to consume the click. Defaults to True.</span>
</span><span id="GrandExchangeActions-430"><a href="#GrandExchangeActions-430"><span class="linenos">430</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions-431"><a href="#GrandExchangeActions-431"><span class="linenos">431</span></a><span class="sd">            dict: Response from the API indicating success or failure</span>
</span><span id="GrandExchangeActions-432"><a href="#GrandExchangeActions-432"><span class="linenos">432</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions-433"><a href="#GrandExchangeActions-433"><span class="linenos">433</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions-434"><a href="#GrandExchangeActions-434"><span class="linenos">434</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474247</span>
</span><span id="GrandExchangeActions-435"><a href="#GrandExchangeActions-435"><span class="linenos">435</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GrandExchangeActions-436"><a href="#GrandExchangeActions-436"><span class="linenos">436</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474248</span>
</span><span id="GrandExchangeActions-437"><a href="#GrandExchangeActions-437"><span class="linenos">437</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="GrandExchangeActions-438"><a href="#GrandExchangeActions-438"><span class="linenos">438</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474249</span>
</span><span id="GrandExchangeActions-439"><a href="#GrandExchangeActions-439"><span class="linenos">439</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="GrandExchangeActions-440"><a href="#GrandExchangeActions-440"><span class="linenos">440</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474250</span>
</span><span id="GrandExchangeActions-441"><a href="#GrandExchangeActions-441"><span class="linenos">441</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
</span><span id="GrandExchangeActions-442"><a href="#GrandExchangeActions-442"><span class="linenos">442</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474251</span>
</span><span id="GrandExchangeActions-443"><a href="#GrandExchangeActions-443"><span class="linenos">443</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
</span><span id="GrandExchangeActions-444"><a href="#GrandExchangeActions-444"><span class="linenos">444</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474252</span>
</span><span id="GrandExchangeActions-445"><a href="#GrandExchangeActions-445"><span class="linenos">445</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
</span><span id="GrandExchangeActions-446"><a href="#GrandExchangeActions-446"><span class="linenos">446</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474253</span>
</span><span id="GrandExchangeActions-447"><a href="#GrandExchangeActions-447"><span class="linenos">447</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
</span><span id="GrandExchangeActions-448"><a href="#GrandExchangeActions-448"><span class="linenos">448</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474254</span>
</span><span id="GrandExchangeActions-449"><a href="#GrandExchangeActions-449"><span class="linenos">449</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="GrandExchangeActions-450"><a href="#GrandExchangeActions-450"><span class="linenos">450</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474255</span>
</span><span id="GrandExchangeActions-451"><a href="#GrandExchangeActions-451"><span class="linenos">451</span></a>
</span><span id="GrandExchangeActions-452"><a href="#GrandExchangeActions-452"><span class="linenos">452</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_menu_option</span><span class="p">(</span><span class="s2">&quot;Abort offer&quot;</span><span class="p">,</span> <span class="n">widget_id</span><span class="o">=</span><span class="n">widget_id</span><span class="p">,</span> <span class="n">option_index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">menu_index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">consume</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></pre></div>


    

                            <div id="GrandExchangeActions.__init__" class="classattr">
                                        <input id="GrandExchangeActions.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">GrandExchangeActions</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">api_m</span><span class="p">:</span> <span class="n">api</span><span class="o">.</span><span class="n">SafeRSAPI</span><span class="o">.</span><span class="n">SafeRSAPI</span></span>)</span>

                <label class="view-source-button" for="GrandExchangeActions.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.__init__-15"><a href="#GrandExchangeActions.__init__-15"><span class="linenos">15</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api_m</span><span class="p">:</span> <span class="n">SafeRSAPI</span><span class="p">):</span>
</span><span id="GrandExchangeActions.__init__-16"><a href="#GrandExchangeActions.__init__-16"><span class="linenos">16</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span> <span class="o">=</span> <span class="n">api_m</span>
</span><span id="GrandExchangeActions.__init__-17"><a href="#GrandExchangeActions.__init__-17"><span class="linenos">17</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">npc_actions</span> <span class="o">=</span> <span class="n">NpcActions</span><span class="p">(</span><span class="n">api_m</span><span class="p">)</span>
</span><span id="GrandExchangeActions.__init__-18"><a href="#GrandExchangeActions.__init__-18"><span class="linenos">18</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span> <span class="o">=</span> <span class="n">WidgetActions</span><span class="p">(</span><span class="n">api_m</span><span class="p">)</span>
</span><span id="GrandExchangeActions.__init__-19"><a href="#GrandExchangeActions.__init__-19"><span class="linenos">19</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span> <span class="o">=</span> <span class="n">Mouse</span><span class="p">(</span><span class="n">api_m</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="GrandExchangeActions.api_m" class="classattr">
                                <div class="attr variable">
            <span class="name">api_m</span>

        
    </div>
    <a class="headerlink" href="#GrandExchangeActions.api_m"></a>
    
    

                            </div>
                            <div id="GrandExchangeActions.npc_actions" class="classattr">
                                <div class="attr variable">
            <span class="name">npc_actions</span>

        
    </div>
    <a class="headerlink" href="#GrandExchangeActions.npc_actions"></a>
    
    

                            </div>
                            <div id="GrandExchangeActions.widget_actions" class="classattr">
                                <div class="attr variable">
            <span class="name">widget_actions</span>

        
    </div>
    <a class="headerlink" href="#GrandExchangeActions.widget_actions"></a>
    
    

                            </div>
                            <div id="GrandExchangeActions.mouse" class="classattr">
                                <div class="attr variable">
            <span class="name">mouse</span>

        
    </div>
    <a class="headerlink" href="#GrandExchangeActions.mouse"></a>
    
    

                            </div>
                            <div id="GrandExchangeActions.open_grand_exchange" class="classattr">
                                        <input id="GrandExchangeActions.open_grand_exchange-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">open_grand_exchange</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.open_grand_exchange-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.open_grand_exchange"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.open_grand_exchange-21"><a href="#GrandExchangeActions.open_grand_exchange-21"><span class="linenos">21</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open_grand_exchange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions.open_grand_exchange-22"><a href="#GrandExchangeActions.open_grand_exchange-22"><span class="linenos">22</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.open_grand_exchange-23"><a href="#GrandExchangeActions.open_grand_exchange-23"><span class="linenos">23</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.open_grand_exchange-24"><a href="#GrandExchangeActions.open_grand_exchange-24"><span class="linenos">24</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.open_grand_exchange-25"><a href="#GrandExchangeActions.open_grand_exchange-25"><span class="linenos">25</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.open_grand_exchange-26"><a href="#GrandExchangeActions.open_grand_exchange-26"><span class="linenos">26</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span><span class="o">.</span><span class="n">does_widget_exist</span><span class="p">(</span><span class="mi">30474247</span><span class="p">):</span>
</span><span id="GrandExchangeActions.open_grand_exchange-27"><a href="#GrandExchangeActions.open_grand_exchange-27"><span class="linenos">27</span></a>            <span class="c1"># Check if we&#39;re on login screen - if so, don&#39;t try to click NPC</span>
</span><span id="GrandExchangeActions.open_grand_exchange-28"><a href="#GrandExchangeActions.open_grand_exchange-28"><span class="linenos">28</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">is_login_screen</span><span class="p">():</span>
</span><span id="GrandExchangeActions.open_grand_exchange-29"><a href="#GrandExchangeActions.open_grand_exchange-29"><span class="linenos">29</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player is on login screen - cannot click Grand Exchange Clerk&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.open_grand_exchange-30"><a href="#GrandExchangeActions.open_grand_exchange-30"><span class="linenos">30</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions.open_grand_exchange-31"><a href="#GrandExchangeActions.open_grand_exchange-31"><span class="linenos">31</span></a>
</span><span id="GrandExchangeActions.open_grand_exchange-32"><a href="#GrandExchangeActions.open_grand_exchange-32"><span class="linenos">32</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">npc_actions</span><span class="o">.</span><span class="n">click_npc_name</span><span class="p">(</span><span class="s2">&quot;Grand Exchange Clerk&quot;</span><span class="p">,</span> <span class="s2">&quot;Exchange&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.open_grand_exchange-33"><a href="#GrandExchangeActions.open_grand_exchange-33"><span class="linenos">33</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions.open_grand_exchange-34"><a href="#GrandExchangeActions.open_grand_exchange-34"><span class="linenos">34</span></a>            <span class="c1"># Wait for GE to open, but with login screen check and timeout</span>
</span><span id="GrandExchangeActions.open_grand_exchange-35"><a href="#GrandExchangeActions.open_grand_exchange-35"><span class="linenos">35</span></a>            <span class="n">wait_count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="GrandExchangeActions.open_grand_exchange-36"><a href="#GrandExchangeActions.open_grand_exchange-36"><span class="linenos">36</span></a>            <span class="n">max_wait</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># Maximum 30 seconds</span>
</span><span id="GrandExchangeActions.open_grand_exchange-37"><a href="#GrandExchangeActions.open_grand_exchange-37"><span class="linenos">37</span></a>            <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span><span class="o">.</span><span class="n">does_widget_exist</span><span class="p">(</span><span class="mi">30474247</span><span class="p">)</span> <span class="ow">and</span> <span class="n">wait_count</span> <span class="o">&lt;</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="GrandExchangeActions.open_grand_exchange-38"><a href="#GrandExchangeActions.open_grand_exchange-38"><span class="linenos">38</span></a>                <span class="c1"># Check if login screen appeared while waiting</span>
</span><span id="GrandExchangeActions.open_grand_exchange-39"><a href="#GrandExchangeActions.open_grand_exchange-39"><span class="linenos">39</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">is_login_screen</span><span class="p">():</span>
</span><span id="GrandExchangeActions.open_grand_exchange-40"><a href="#GrandExchangeActions.open_grand_exchange-40"><span class="linenos">40</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Login screen detected while waiting for Grand Exchange to open&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.open_grand_exchange-41"><a href="#GrandExchangeActions.open_grand_exchange-41"><span class="linenos">41</span></a>                    <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions.open_grand_exchange-42"><a href="#GrandExchangeActions.open_grand_exchange-42"><span class="linenos">42</span></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions.open_grand_exchange-43"><a href="#GrandExchangeActions.open_grand_exchange-43"><span class="linenos">43</span></a>                <span class="n">wait_count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="GrandExchangeActions.open_grand_exchange-44"><a href="#GrandExchangeActions.open_grand_exchange-44"><span class="linenos">44</span></a>
</span><span id="GrandExchangeActions.open_grand_exchange-45"><a href="#GrandExchangeActions.open_grand_exchange-45"><span class="linenos">45</span></a>            <span class="k">if</span> <span class="n">wait_count</span> <span class="o">&gt;=</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="GrandExchangeActions.open_grand_exchange-46"><a href="#GrandExchangeActions.open_grand_exchange-46"><span class="linenos">46</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Timeout waiting for Grand Exchange to open&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.open_grand_exchange-47"><a href="#GrandExchangeActions.open_grand_exchange-47"><span class="linenos">47</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions.open_grand_exchange-48"><a href="#GrandExchangeActions.open_grand_exchange-48"><span class="linenos">48</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions.open_grand_exchange-49"><a href="#GrandExchangeActions.open_grand_exchange-49"><span class="linenos">49</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


    

                            </div>
                            <div id="GrandExchangeActions.close_grand_exchange" class="classattr">
                                        <input id="GrandExchangeActions.close_grand_exchange-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close_grand_exchange</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.close_grand_exchange-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.close_grand_exchange"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.close_grand_exchange-51"><a href="#GrandExchangeActions.close_grand_exchange-51"><span class="linenos">51</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close_grand_exchange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions.close_grand_exchange-52"><a href="#GrandExchangeActions.close_grand_exchange-52"><span class="linenos">52</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_actions</span><span class="o">.</span><span class="n">does_widget_exist</span><span class="p">(</span><span class="mi">30474247</span><span class="p">):</span>
</span><span id="GrandExchangeActions.close_grand_exchange-53"><a href="#GrandExchangeActions.close_grand_exchange-53"><span class="linenos">53</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;Escape&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.close_grand_exchange-54"><a href="#GrandExchangeActions.close_grand_exchange-54"><span class="linenos">54</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="GrandExchangeActions.collect_all" class="classattr">
                                        <input id="GrandExchangeActions.collect_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">collect_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.collect_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.collect_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.collect_all-56"><a href="#GrandExchangeActions.collect_all-56"><span class="linenos">56</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions.collect_all-57"><a href="#GrandExchangeActions.collect_all-57"><span class="linenos">57</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.collect_all-58"><a href="#GrandExchangeActions.collect_all-58"><span class="linenos">58</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.collect_all-59"><a href="#GrandExchangeActions.collect_all-59"><span class="linenos">59</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.collect_all-60"><a href="#GrandExchangeActions.collect_all-60"><span class="linenos">60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.collect_all-61"><a href="#GrandExchangeActions.collect_all-61"><span class="linenos">61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474246</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="GrandExchangeActions.collect_slot" class="classattr">
                                        <input id="GrandExchangeActions.collect_slot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">collect_slot</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">slot</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.collect_slot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.collect_slot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.collect_slot-65"><a href="#GrandExchangeActions.collect_slot-65"><span class="linenos">65</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="GrandExchangeActions.collect_slot-66"><a href="#GrandExchangeActions.collect_slot-66"><span class="linenos">66</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.collect_slot-67"><a href="#GrandExchangeActions.collect_slot-67"><span class="linenos">67</span></a><span class="sd">        This function clicks a finished buy mode slot to collect the items + gp.</span>
</span><span id="GrandExchangeActions.collect_slot-68"><a href="#GrandExchangeActions.collect_slot-68"><span class="linenos">68</span></a>
</span><span id="GrandExchangeActions.collect_slot-69"><a href="#GrandExchangeActions.collect_slot-69"><span class="linenos">69</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions.collect_slot-70"><a href="#GrandExchangeActions.collect_slot-70"><span class="linenos">70</span></a><span class="sd">            slot (int): _description_</span>
</span><span id="GrandExchangeActions.collect_slot-71"><a href="#GrandExchangeActions.collect_slot-71"><span class="linenos">71</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.collect_slot-72"><a href="#GrandExchangeActions.collect_slot-72"><span class="linenos">72</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions.collect_slot-73"><a href="#GrandExchangeActions.collect_slot-73"><span class="linenos">73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">collect_within_slot</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>This function clicks a finished buy mode slot to collect the items + gp.</p>

<p>Args:
    slot (int): _description_</p>
</div>


                            </div>
                            <div id="GrandExchangeActions.collect_within_slot" class="classattr">
                                        <input id="GrandExchangeActions.collect_within_slot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">collect_within_slot</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.collect_within_slot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.collect_within_slot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.collect_within_slot-75"><a href="#GrandExchangeActions.collect_within_slot-75"><span class="linenos">75</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">collect_within_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions.collect_within_slot-76"><a href="#GrandExchangeActions.collect_within_slot-76"><span class="linenos">76</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.collect_within_slot-77"><a href="#GrandExchangeActions.collect_within_slot-77"><span class="linenos">77</span></a><span class="sd">        This function collects the slots within the GE slot so the items + gp are collected.</span>
</span><span id="GrandExchangeActions.collect_within_slot-78"><a href="#GrandExchangeActions.collect_within_slot-78"><span class="linenos">78</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.collect_within_slot-79"><a href="#GrandExchangeActions.collect_within_slot-79"><span class="linenos">79</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.collect_within_slot-80"><a href="#GrandExchangeActions.collect_within_slot-80"><span class="linenos">80</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.collect_within_slot-81"><a href="#GrandExchangeActions.collect_within_slot-81"><span class="linenos">81</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.collect_within_slot-82"><a href="#GrandExchangeActions.collect_within_slot-82"><span class="linenos">82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.collect_within_slot-83"><a href="#GrandExchangeActions.collect_within_slot-83"><span class="linenos">83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474264</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions.collect_within_slot-84"><a href="#GrandExchangeActions.collect_within_slot-84"><span class="linenos">84</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions.collect_within_slot-85"><a href="#GrandExchangeActions.collect_within_slot-85"><span class="linenos">85</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.collect_within_slot-86"><a href="#GrandExchangeActions.collect_within_slot-86"><span class="linenos">86</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.collect_within_slot-87"><a href="#GrandExchangeActions.collect_within_slot-87"><span class="linenos">87</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.collect_within_slot-88"><a href="#GrandExchangeActions.collect_within_slot-88"><span class="linenos">88</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.collect_within_slot-89"><a href="#GrandExchangeActions.collect_within_slot-89"><span class="linenos">89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474264</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>This function collects the slots within the GE slot so the items + gp are collected.</p>
</div>


                            </div>
                            <div id="GrandExchangeActions.get_ge_slot_status" class="classattr">
                                        <input id="GrandExchangeActions.get_ge_slot_status-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_ge_slot_status</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">slot</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.get_ge_slot_status-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.get_ge_slot_status"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.get_ge_slot_status-91"><a href="#GrandExchangeActions.get_ge_slot_status-91"><span class="linenos"> 91</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_ge_slot_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-92"><a href="#GrandExchangeActions.get_ge_slot_status-92"><span class="linenos"> 92</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-93"><a href="#GrandExchangeActions.get_ge_slot_status-93"><span class="linenos"> 93</span></a><span class="sd">        Gets the status of a specific Grand Exchange slot.</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-94"><a href="#GrandExchangeActions.get_ge_slot_status-94"><span class="linenos"> 94</span></a>
</span><span id="GrandExchangeActions.get_ge_slot_status-95"><a href="#GrandExchangeActions.get_ge_slot_status-95"><span class="linenos"> 95</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-96"><a href="#GrandExchangeActions.get_ge_slot_status-96"><span class="linenos"> 96</span></a><span class="sd">            slot (int): The GE slot to check (0-8).</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-97"><a href="#GrandExchangeActions.get_ge_slot_status-97"><span class="linenos"> 97</span></a>
</span><span id="GrandExchangeActions.get_ge_slot_status-98"><a href="#GrandExchangeActions.get_ge_slot_status-98"><span class="linenos"> 98</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-99"><a href="#GrandExchangeActions.get_ge_slot_status-99"><span class="linenos"> 99</span></a><span class="sd">            dict: A dictionary with the slot number as the key and its status (&quot;Full&quot; or &quot;Empty&quot;) as the value.</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-100"><a href="#GrandExchangeActions.get_ge_slot_status-100"><span class="linenos">100</span></a>
</span><span id="GrandExchangeActions.get_ge_slot_status-101"><a href="#GrandExchangeActions.get_ge_slot_status-101"><span class="linenos">101</span></a><span class="sd">        Raises:</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-102"><a href="#GrandExchangeActions.get_ge_slot_status-102"><span class="linenos">102</span></a><span class="sd">            ValueError: If the slot number is not between 0 and 8.</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-103"><a href="#GrandExchangeActions.get_ge_slot_status-103"><span class="linenos">103</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-104"><a href="#GrandExchangeActions.get_ge_slot_status-104"><span class="linenos">104</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">slot</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-105"><a href="#GrandExchangeActions.get_ge_slot_status-105"><span class="linenos">105</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;GE slot must be between 0 and 8.&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-106"><a href="#GrandExchangeActions.get_ge_slot_status-106"><span class="linenos">106</span></a>
</span><span id="GrandExchangeActions.get_ge_slot_status-107"><a href="#GrandExchangeActions.get_ge_slot_status-107"><span class="linenos">107</span></a>        <span class="n">base_widget_id</span> <span class="o">=</span> <span class="mi">30474247</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-108"><a href="#GrandExchangeActions.get_ge_slot_status-108"><span class="linenos">108</span></a>        <span class="n">widget_id</span> <span class="o">=</span> <span class="n">base_widget_id</span> <span class="o">+</span> <span class="n">slot</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-109"><a href="#GrandExchangeActions.get_ge_slot_status-109"><span class="linenos">109</span></a>        <span class="n">widget_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="n">widget_id</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-110"><a href="#GrandExchangeActions.get_ge_slot_status-110"><span class="linenos">110</span></a>
</span><span id="GrandExchangeActions.get_ge_slot_status-111"><a href="#GrandExchangeActions.get_ge_slot_status-111"><span class="linenos">111</span></a>        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;Full&quot;</span> <span class="k">if</span> <span class="n">widget_text</span> <span class="o">!=</span> <span class="s2">&quot;Empty&quot;</span> <span class="k">else</span> <span class="s2">&quot;Empty&quot;</span>
</span><span id="GrandExchangeActions.get_ge_slot_status-112"><a href="#GrandExchangeActions.get_ge_slot_status-112"><span class="linenos">112</span></a>
</span><span id="GrandExchangeActions.get_ge_slot_status-113"><a href="#GrandExchangeActions.get_ge_slot_status-113"><span class="linenos">113</span></a>        <span class="k">return</span> <span class="p">{</span><span class="n">slot</span><span class="p">:</span> <span class="n">status</span><span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Gets the status of a specific Grand Exchange slot.</p>

<p>Args:
    slot (int): The GE slot to check (0-8).</p>

<p>Returns:
    dict: A dictionary with the slot number as the key and its status ("Full" or "Empty") as the value.</p>

<p>Raises:
    ValueError: If the slot number is not between 0 and 8.</p>
</div>


                            </div>
                            <div id="GrandExchangeActions.get_all_ge_slot_statuses" class="classattr">
                                        <input id="GrandExchangeActions.get_all_ge_slot_statuses-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_all_ge_slot_statuses</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.get_all_ge_slot_statuses-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.get_all_ge_slot_statuses"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.get_all_ge_slot_statuses-115"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-115"><span class="linenos">115</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_ge_slot_statuses</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-116"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-116"><span class="linenos">116</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-117"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-117"><span class="linenos">117</span></a><span class="sd">        Gets the status of all Grand Exchange slots.</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-118"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-118"><span class="linenos">118</span></a>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-119"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-119"><span class="linenos">119</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-120"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-120"><span class="linenos">120</span></a><span class="sd">            dict: A dictionary where keys are slot numbers (0-8) and values are their statuses (&quot;Full&quot; or &quot;Empty&quot;).</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-121"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-121"><span class="linenos">121</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-122"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-122"><span class="linenos">122</span></a>        <span class="n">slot_statuses</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-123"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-123"><span class="linenos">123</span></a>        <span class="n">base_widget_id</span> <span class="o">=</span> <span class="mi">30474247</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-124"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-124"><span class="linenos">124</span></a>        <span class="k">for</span> <span class="n">slot</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>  <span class="c1"># Slots 0-8</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-125"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-125"><span class="linenos">125</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="n">base_widget_id</span> <span class="o">+</span> <span class="n">slot</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-126"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-126"><span class="linenos">126</span></a>            <span class="n">widget_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="n">widget_id</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-127"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-127"><span class="linenos">127</span></a>            <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;Full&quot;</span> <span class="k">if</span> <span class="n">widget_text</span> <span class="o">!=</span> <span class="s2">&quot;Empty&quot;</span> <span class="k">else</span> <span class="s2">&quot;Empty&quot;</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-128"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-128"><span class="linenos">128</span></a>            <span class="n">slot_statuses</span><span class="p">[</span><span class="n">slot</span><span class="p">]</span> <span class="o">=</span> <span class="n">status</span>
</span><span id="GrandExchangeActions.get_all_ge_slot_statuses-129"><a href="#GrandExchangeActions.get_all_ge_slot_statuses-129"><span class="linenos">129</span></a>        <span class="k">return</span> <span class="n">slot_statuses</span>
</span></pre></div>


            <div class="docstring"><p>Gets the status of all Grand Exchange slots.</p>

<p>Returns:
    dict: A dictionary where keys are slot numbers (0-8) and values are their statuses ("Full" or "Empty").</p>
</div>


                            </div>
                            <div id="GrandExchangeActions.is_ge_slot_empty" class="classattr">
                                        <input id="GrandExchangeActions.is_ge_slot_empty-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_ge_slot_empty</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">slot</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="GrandExchangeActions.is_ge_slot_empty-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.is_ge_slot_empty"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.is_ge_slot_empty-131"><a href="#GrandExchangeActions.is_ge_slot_empty-131"><span class="linenos">131</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_ge_slot_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="GrandExchangeActions.is_ge_slot_empty-132"><a href="#GrandExchangeActions.is_ge_slot_empty-132"><span class="linenos">132</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ge_slot_status</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;Empty&quot;</span>
</span></pre></div>


    

                            </div>
                            <div id="GrandExchangeActions.is_ge_slot_bought" class="classattr">
                                        <input id="GrandExchangeActions.is_ge_slot_bought-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_ge_slot_bought</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.is_ge_slot_bought-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.is_ge_slot_bought"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.is_ge_slot_bought-134"><a href="#GrandExchangeActions.is_ge_slot_bought-134"><span class="linenos">134</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_ge_slot_bought</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="GrandExchangeActions.is_ge_slot_bought-135"><a href="#GrandExchangeActions.is_ge_slot_bought-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">click_ge_slot</span><span class="p">(</span><span class="n">slot</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions.is_ge_slot_bought-136"><a href="#GrandExchangeActions.is_ge_slot_bought-136"><span class="linenos">136</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions.is_ge_slot_bought-137"><a href="#GrandExchangeActions.is_ge_slot_bought-137"><span class="linenos">137</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions.is_ge_slot_bought-138"><a href="#GrandExchangeActions.is_ge_slot_bought-138"><span class="linenos">138</span></a>            <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="mi">30474263</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions.is_ge_slot_bought-139"><a href="#GrandExchangeActions.is_ge_slot_bought-139"><span class="linenos">139</span></a>            <span class="k">return</span> <span class="s2">&quot;You have bought a total of 0 so farfor a total price of 0 coins.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">status</span>
</span></pre></div>


    

                            </div>
                            <div id="GrandExchangeActions.abort_offer" class="classattr">
                                        <input id="GrandExchangeActions.abort_offer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">abort_offer</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.abort_offer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.abort_offer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.abort_offer-141"><a href="#GrandExchangeActions.abort_offer-141"><span class="linenos">141</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">abort_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="GrandExchangeActions.abort_offer-142"><a href="#GrandExchangeActions.abort_offer-142"><span class="linenos">142</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions.abort_offer-143"><a href="#GrandExchangeActions.abort_offer-143"><span class="linenos">143</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.abort_offer-144"><a href="#GrandExchangeActions.abort_offer-144"><span class="linenos">144</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.abort_offer-145"><a href="#GrandExchangeActions.abort_offer-145"><span class="linenos">145</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.abort_offer-146"><a href="#GrandExchangeActions.abort_offer-146"><span class="linenos">146</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.abort_offer-147"><a href="#GrandExchangeActions.abort_offer-147"><span class="linenos">147</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions.abort_offer-148"><a href="#GrandExchangeActions.abort_offer-148"><span class="linenos">148</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474263</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="GrandExchangeActions.abort_offer-149"><a href="#GrandExchangeActions.abort_offer-149"><span class="linenos">149</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="GrandExchangeActions.abort_offer-150"><a href="#GrandExchangeActions.abort_offer-150"><span class="linenos">150</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.abort_offer-151"><a href="#GrandExchangeActions.abort_offer-151"><span class="linenos">151</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.abort_offer-152"><a href="#GrandExchangeActions.abort_offer-152"><span class="linenos">152</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.abort_offer-153"><a href="#GrandExchangeActions.abort_offer-153"><span class="linenos">153</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.abort_offer-154"><a href="#GrandExchangeActions.abort_offer-154"><span class="linenos">154</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474264</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions.abort_offer-155"><a href="#GrandExchangeActions.abort_offer-155"><span class="linenos">155</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="GrandExchangeActions.get_actively_traded_price" class="classattr">
                                        <input id="GrandExchangeActions.get_actively_traded_price-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_actively_traded_price</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.get_actively_traded_price-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.get_actively_traded_price"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.get_actively_traded_price-157"><a href="#GrandExchangeActions.get_actively_traded_price-157"><span class="linenos">157</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_actively_traded_price</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-158"><a href="#GrandExchangeActions.get_actively_traded_price-158"><span class="linenos">158</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-159"><a href="#GrandExchangeActions.get_actively_traded_price-159"><span class="linenos">159</span></a><span class="sd">        Gets the actively traded price from the Grand Exchange interface.</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-160"><a href="#GrandExchangeActions.get_actively_traded_price-160"><span class="linenos">160</span></a>
</span><span id="GrandExchangeActions.get_actively_traded_price-161"><a href="#GrandExchangeActions.get_actively_traded_price-161"><span class="linenos">161</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-162"><a href="#GrandExchangeActions.get_actively_traded_price-162"><span class="linenos">162</span></a><span class="sd">            int: The actively traded price, or 0 if parsing fails</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-163"><a href="#GrandExchangeActions.get_actively_traded_price-163"><span class="linenos">163</span></a>
</span><span id="GrandExchangeActions.get_actively_traded_price-164"><a href="#GrandExchangeActions.get_actively_traded_price-164"><span class="linenos">164</span></a><span class="sd">        Example text format:</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-165"><a href="#GrandExchangeActions.get_actively_traded_price-165"><span class="linenos">165</span></a><span class="sd">        &quot;Looks tasty.Buy limit: 15 (3:50) / Actively traded price: 491&quot;</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-166"><a href="#GrandExchangeActions.get_actively_traded_price-166"><span class="linenos">166</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-167"><a href="#GrandExchangeActions.get_actively_traded_price-167"><span class="linenos">167</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-168"><a href="#GrandExchangeActions.get_actively_traded_price-168"><span class="linenos">168</span></a>            <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">get_widget_text</span><span class="p">(</span><span class="mi">30474267</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-169"><a href="#GrandExchangeActions.get_actively_traded_price-169"><span class="linenos">169</span></a>
</span><span id="GrandExchangeActions.get_actively_traded_price-170"><a href="#GrandExchangeActions.get_actively_traded_price-170"><span class="linenos">170</span></a>            <span class="c1"># Debug: Always log what we&#39;re getting</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-171"><a href="#GrandExchangeActions.get_actively_traded_price-171"><span class="linenos">171</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] GE Widget 30474267 text: &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-172"><a href="#GrandExchangeActions.get_actively_traded_price-172"><span class="linenos">172</span></a>
</span><span id="GrandExchangeActions.get_actively_traded_price-173"><a href="#GrandExchangeActions.get_actively_traded_price-173"><span class="linenos">173</span></a>            <span class="c1"># Check if text is empty or None</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-174"><a href="#GrandExchangeActions.get_actively_traded_price-174"><span class="linenos">174</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-175"><a href="#GrandExchangeActions.get_actively_traded_price-175"><span class="linenos">175</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] Grand Exchange widget text is empty - interface may not be open or widget ID may be wrong&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-176"><a href="#GrandExchangeActions.get_actively_traded_price-176"><span class="linenos">176</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-177"><a href="#GrandExchangeActions.get_actively_traded_price-177"><span class="linenos">177</span></a>
</span><span id="GrandExchangeActions.get_actively_traded_price-178"><a href="#GrandExchangeActions.get_actively_traded_price-178"><span class="linenos">178</span></a>            <span class="c1"># Check if the expected format is present</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-179"><a href="#GrandExchangeActions.get_actively_traded_price-179"><span class="linenos">179</span></a>            <span class="k">if</span> <span class="s2">&quot;Actively traded price: &quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-180"><a href="#GrandExchangeActions.get_actively_traded_price-180"><span class="linenos">180</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Expected &#39;Actively traded price:&#39; not found in text: &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-181"><a href="#GrandExchangeActions.get_actively_traded_price-181"><span class="linenos">181</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] This suggests either:&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-182"><a href="#GrandExchangeActions.get_actively_traded_price-182"><span class="linenos">182</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] 1. Grand Exchange interface is not properly open&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-183"><a href="#GrandExchangeActions.get_actively_traded_price-183"><span class="linenos">183</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] 2. No item is selected in the interface&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-184"><a href="#GrandExchangeActions.get_actively_traded_price-184"><span class="linenos">184</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[ERROR] 3. Widget ID 30474267 is incorrect&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-185"><a href="#GrandExchangeActions.get_actively_traded_price-185"><span class="linenos">185</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-186"><a href="#GrandExchangeActions.get_actively_traded_price-186"><span class="linenos">186</span></a>
</span><span id="GrandExchangeActions.get_actively_traded_price-187"><a href="#GrandExchangeActions.get_actively_traded_price-187"><span class="linenos">187</span></a>            <span class="c1"># Parse the price</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-188"><a href="#GrandExchangeActions.get_actively_traded_price-188"><span class="linenos">188</span></a>            <span class="n">price_text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Actively traded price: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-189"><a href="#GrandExchangeActions.get_actively_traded_price-189"><span class="linenos">189</span></a>            <span class="n">price</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">price_text</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-190"><a href="#GrandExchangeActions.get_actively_traded_price-190"><span class="linenos">190</span></a>
</span><span id="GrandExchangeActions.get_actively_traded_price-191"><a href="#GrandExchangeActions.get_actively_traded_price-191"><span class="linenos">191</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] Successfully parsed actively traded price: </span><span class="si">{</span><span class="n">price</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-192"><a href="#GrandExchangeActions.get_actively_traded_price-192"><span class="linenos">192</span></a>            <span class="k">return</span> <span class="n">price</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-193"><a href="#GrandExchangeActions.get_actively_traded_price-193"><span class="linenos">193</span></a>
</span><span id="GrandExchangeActions.get_actively_traded_price-194"><a href="#GrandExchangeActions.get_actively_traded_price-194"><span class="linenos">194</span></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-195"><a href="#GrandExchangeActions.get_actively_traded_price-195"><span class="linenos">195</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to parse actively traded price from text: &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-196"><a href="#GrandExchangeActions.get_actively_traded_price-196"><span class="linenos">196</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-197"><a href="#GrandExchangeActions.get_actively_traded_price-197"><span class="linenos">197</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-198"><a href="#GrandExchangeActions.get_actively_traded_price-198"><span class="linenos">198</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-199"><a href="#GrandExchangeActions.get_actively_traded_price-199"><span class="linenos">199</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Unexpected error getting actively traded price: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.get_actively_traded_price-200"><a href="#GrandExchangeActions.get_actively_traded_price-200"><span class="linenos">200</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span></pre></div>


            <div class="docstring"><p>Gets the actively traded price from the Grand Exchange interface.</p>

<p>Returns:
    int: The actively traded price, or 0 if parsing fails</p>

<p>Example text format:
"Looks tasty.Buy limit: 15 (3:50) / Actively traded price: 491"</p>
</div>


                            </div>
                            <div id="GrandExchangeActions.ge_buy_item" class="classattr">
                                        <input id="GrandExchangeActions.ge_buy_item-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ge_buy_item</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">item_name</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">buy_slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>,</span><span class="param">	<span class="n">price_increase</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">6</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.ge_buy_item-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.ge_buy_item"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.ge_buy_item-202"><a href="#GrandExchangeActions.ge_buy_item-202"><span class="linenos">202</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">ge_buy_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">item_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">6</span><span class="p">):</span>
</span><span id="GrandExchangeActions.ge_buy_item-203"><a href="#GrandExchangeActions.ge_buy_item-203"><span class="linenos">203</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.ge_buy_item-204"><a href="#GrandExchangeActions.ge_buy_item-204"><span class="linenos">204</span></a><span class="sd">        This function can search for any item in the ge by a general string and then click the ID of the actual item you want if it is returned.</span>
</span><span id="GrandExchangeActions.ge_buy_item-205"><a href="#GrandExchangeActions.ge_buy_item-205"><span class="linenos">205</span></a><span class="sd">        It will then click the item and return the widget ID of the item you clicked. and index - 2 because id is stored in a widget without interaction.</span>
</span><span id="GrandExchangeActions.ge_buy_item-206"><a href="#GrandExchangeActions.ge_buy_item-206"><span class="linenos">206</span></a>
</span><span id="GrandExchangeActions.ge_buy_item-207"><a href="#GrandExchangeActions.ge_buy_item-207"><span class="linenos">207</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions.ge_buy_item-208"><a href="#GrandExchangeActions.ge_buy_item-208"><span class="linenos">208</span></a><span class="sd">            item_id (int): exact item id to click</span>
</span><span id="GrandExchangeActions.ge_buy_item-209"><a href="#GrandExchangeActions.ge_buy_item-209"><span class="linenos">209</span></a><span class="sd">            item_name (str): general string to search for (try to be specific)</span>
</span><span id="GrandExchangeActions.ge_buy_item-210"><a href="#GrandExchangeActions.ge_buy_item-210"><span class="linenos">210</span></a><span class="sd">            buy_slot (int, optional): Which ge buy slot to use (0-8). Defaults to 0.</span>
</span><span id="GrandExchangeActions.ge_buy_item-211"><a href="#GrandExchangeActions.ge_buy_item-211"><span class="linenos">211</span></a><span class="sd">            quantity (int, optional): Quantity to buy. Defaults to 1.</span>
</span><span id="GrandExchangeActions.ge_buy_item-212"><a href="#GrandExchangeActions.ge_buy_item-212"><span class="linenos">212</span></a><span class="sd">            price_increase (int, optional): Price increase to buy at (5% increments). Defaults to 6.</span>
</span><span id="GrandExchangeActions.ge_buy_item-213"><a href="#GrandExchangeActions.ge_buy_item-213"><span class="linenos">213</span></a>
</span><span id="GrandExchangeActions.ge_buy_item-214"><a href="#GrandExchangeActions.ge_buy_item-214"><span class="linenos">214</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions.ge_buy_item-215"><a href="#GrandExchangeActions.ge_buy_item-215"><span class="linenos">215</span></a><span class="sd">            bool: True if purchase was successful, False otherwise</span>
</span><span id="GrandExchangeActions.ge_buy_item-216"><a href="#GrandExchangeActions.ge_buy_item-216"><span class="linenos">216</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.ge_buy_item-217"><a href="#GrandExchangeActions.ge_buy_item-217"><span class="linenos">217</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] Starting GE purchase: </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> (ID: </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.ge_buy_item-218"><a href="#GrandExchangeActions.ge_buy_item-218"><span class="linenos">218</span></a>
</span><span id="GrandExchangeActions.ge_buy_item-219"><a href="#GrandExchangeActions.ge_buy_item-219"><span class="linenos">219</span></a>        <span class="c1"># First attempt</span>
</span><span id="GrandExchangeActions.ge_buy_item-220"><a href="#GrandExchangeActions.ge_buy_item-220"><span class="linenos">220</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] First attempt to buy </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.ge_buy_item-221"><a href="#GrandExchangeActions.ge_buy_item-221"><span class="linenos">221</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attempt_purchase</span><span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item_name</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">):</span>
</span><span id="GrandExchangeActions.ge_buy_item-222"><a href="#GrandExchangeActions.ge_buy_item-222"><span class="linenos">222</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[SUCCESS] Successfully purchased </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> on first attempt&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.ge_buy_item-223"><a href="#GrandExchangeActions.ge_buy_item-223"><span class="linenos">223</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="GrandExchangeActions.ge_buy_item-224"><a href="#GrandExchangeActions.ge_buy_item-224"><span class="linenos">224</span></a>
</span><span id="GrandExchangeActions.ge_buy_item-225"><a href="#GrandExchangeActions.ge_buy_item-225"><span class="linenos">225</span></a>        <span class="c1"># Second attempt with higher price</span>
</span><span id="GrandExchangeActions.ge_buy_item-226"><a href="#GrandExchangeActions.ge_buy_item-226"><span class="linenos">226</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] First attempt failed, trying second attempt with higher price for </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.ge_buy_item-227"><a href="#GrandExchangeActions.ge_buy_item-227"><span class="linenos">227</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attempt_purchase</span><span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item_name</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">price_increase</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="n">is_retry</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="GrandExchangeActions.ge_buy_item-228"><a href="#GrandExchangeActions.ge_buy_item-228"><span class="linenos">228</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[SUCCESS] Successfully purchased </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> on second attempt&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.ge_buy_item-229"><a href="#GrandExchangeActions.ge_buy_item-229"><span class="linenos">229</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="GrandExchangeActions.ge_buy_item-230"><a href="#GrandExchangeActions.ge_buy_item-230"><span class="linenos">230</span></a>
</span><span id="GrandExchangeActions.ge_buy_item-231"><a href="#GrandExchangeActions.ge_buy_item-231"><span class="linenos">231</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to purchase </span><span class="si">{</span><span class="n">quantity</span><span class="si">}</span><span class="s2">x </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> after both attempts&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.ge_buy_item-232"><a href="#GrandExchangeActions.ge_buy_item-232"><span class="linenos">232</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>This function can search for any item in the ge by a general string and then click the ID of the actual item you want if it is returned.
It will then click the item and return the widget ID of the item you clicked. and index - 2 because id is stored in a widget without interaction.</p>

<p>Args:
    item_id (int): exact item id to click
    item_name (str): general string to search for (try to be specific)
    buy_slot (int, optional): Which ge buy slot to use (0-8). Defaults to 0.
    quantity (int, optional): Quantity to buy. Defaults to 1.
    price_increase (int, optional): Price increase to buy at (5% increments). Defaults to 6.</p>

<p>Returns:
    bool: True if purchase was successful, False otherwise</p>
</div>


                            </div>
                            <div id="GrandExchangeActions.set_price_increase" class="classattr">
                                        <input id="GrandExchangeActions.set_price_increase-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_price_increase</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">price_increase</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.set_price_increase-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.set_price_increase"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.set_price_increase-296"><a href="#GrandExchangeActions.set_price_increase-296"><span class="linenos">296</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_price_increase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price_increase</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">):</span>
</span><span id="GrandExchangeActions.set_price_increase-297"><a href="#GrandExchangeActions.set_price_increase-297"><span class="linenos">297</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;_summary_</span>
</span><span id="GrandExchangeActions.set_price_increase-298"><a href="#GrandExchangeActions.set_price_increase-298"><span class="linenos">298</span></a><span class="sd">        This function will set the price increase for the item.</span>
</span><span id="GrandExchangeActions.set_price_increase-299"><a href="#GrandExchangeActions.set_price_increase-299"><span class="linenos">299</span></a><span class="sd">        It will click the price increase 5% button 3 times by default.</span>
</span><span id="GrandExchangeActions.set_price_increase-300"><a href="#GrandExchangeActions.set_price_increase-300"><span class="linenos">300</span></a><span class="sd">        It will sleep for a random amount of time between 0.5 and 1.5 seconds.</span>
</span><span id="GrandExchangeActions.set_price_increase-301"><a href="#GrandExchangeActions.set_price_increase-301"><span class="linenos">301</span></a>
</span><span id="GrandExchangeActions.set_price_increase-302"><a href="#GrandExchangeActions.set_price_increase-302"><span class="linenos">302</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions.set_price_increase-303"><a href="#GrandExchangeActions.set_price_increase-303"><span class="linenos">303</span></a><span class="sd">            price_increase (int, optional): Number of times to click the price increase button. Defaults to 3.</span>
</span><span id="GrandExchangeActions.set_price_increase-304"><a href="#GrandExchangeActions.set_price_increase-304"><span class="linenos">304</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.set_price_increase-305"><a href="#GrandExchangeActions.set_price_increase-305"><span class="linenos">305</span></a>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">price_increase</span><span class="p">):</span>
</span><span id="GrandExchangeActions.set_price_increase-306"><a href="#GrandExchangeActions.set_price_increase-306"><span class="linenos">306</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.set_price_increase-307"><a href="#GrandExchangeActions.set_price_increase-307"><span class="linenos">307</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_price_increase-308"><a href="#GrandExchangeActions.set_price_increase-308"><span class="linenos">308</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_price_increase-309"><a href="#GrandExchangeActions.set_price_increase-309"><span class="linenos">309</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.set_price_increase-310"><a href="#GrandExchangeActions.set_price_increase-310"><span class="linenos">310</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474266</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_price_increase-311"><a href="#GrandExchangeActions.set_price_increase-311"><span class="linenos">311</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>_summary_
This function will set the price increase for the item.
It will click the price increase 5% button 3 times by default.
It will sleep for a random amount of time between 0.5 and 1.5 seconds.</p>

<p>Args:
    price_increase (int, optional): Number of times to click the price increase button. Defaults to 3.</p>
</div>


                            </div>
                            <div id="GrandExchangeActions.set_exact_price" class="classattr">
                                        <input id="GrandExchangeActions.set_exact_price-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_exact_price</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">price</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.set_exact_price-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.set_exact_price"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.set_exact_price-313"><a href="#GrandExchangeActions.set_exact_price-313"><span class="linenos">313</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_exact_price</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="GrandExchangeActions.set_exact_price-314"><a href="#GrandExchangeActions.set_exact_price-314"><span class="linenos">314</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.set_exact_price-315"><a href="#GrandExchangeActions.set_exact_price-315"><span class="linenos">315</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_exact_price-316"><a href="#GrandExchangeActions.set_exact_price-316"><span class="linenos">316</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_exact_price-317"><a href="#GrandExchangeActions.set_exact_price-317"><span class="linenos">317</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.set_exact_price-318"><a href="#GrandExchangeActions.set_exact_price-318"><span class="linenos">318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474266</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_exact_price-319"><a href="#GrandExchangeActions.set_exact_price-319"><span class="linenos">319</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_exact_price-320"><a href="#GrandExchangeActions.set_exact_price-320"><span class="linenos">320</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_string</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">price</span><span class="p">))</span>
</span><span id="GrandExchangeActions.set_exact_price-321"><a href="#GrandExchangeActions.set_exact_price-321"><span class="linenos">321</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_exact_price-322"><a href="#GrandExchangeActions.set_exact_price-322"><span class="linenos">322</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_exact_price-323"><a href="#GrandExchangeActions.set_exact_price-323"><span class="linenos">323</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="GrandExchangeActions.set_buy_quantity" class="classattr">
                                        <input id="GrandExchangeActions.set_buy_quantity-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_buy_quantity</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.set_buy_quantity-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.set_buy_quantity"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.set_buy_quantity-325"><a href="#GrandExchangeActions.set_buy_quantity-325"><span class="linenos">325</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_buy_quantity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="GrandExchangeActions.set_buy_quantity-326"><a href="#GrandExchangeActions.set_buy_quantity-326"><span class="linenos">326</span></a>        <span class="k">if</span> <span class="n">quantity</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GrandExchangeActions.set_buy_quantity-327"><a href="#GrandExchangeActions.set_buy_quantity-327"><span class="linenos">327</span></a>            <span class="k">return</span>
</span><span id="GrandExchangeActions.set_buy_quantity-328"><a href="#GrandExchangeActions.set_buy_quantity-328"><span class="linenos">328</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.set_buy_quantity-329"><a href="#GrandExchangeActions.set_buy_quantity-329"><span class="linenos">329</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_buy_quantity-330"><a href="#GrandExchangeActions.set_buy_quantity-330"><span class="linenos">330</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_buy_quantity-331"><a href="#GrandExchangeActions.set_buy_quantity-331"><span class="linenos">331</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.set_buy_quantity-332"><a href="#GrandExchangeActions.set_buy_quantity-332"><span class="linenos">332</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474266</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_buy_quantity-333"><a href="#GrandExchangeActions.set_buy_quantity-333"><span class="linenos">333</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_buy_quantity-334"><a href="#GrandExchangeActions.set_buy_quantity-334"><span class="linenos">334</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_string</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">quantity</span><span class="p">))</span>
</span><span id="GrandExchangeActions.set_buy_quantity-335"><a href="#GrandExchangeActions.set_buy_quantity-335"><span class="linenos">335</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_buy_quantity-336"><a href="#GrandExchangeActions.set_buy_quantity-336"><span class="linenos">336</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.set_buy_quantity-337"><a href="#GrandExchangeActions.set_buy_quantity-337"><span class="linenos">337</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="GrandExchangeActions.click_search_result" class="classattr">
                                        <input id="GrandExchangeActions.click_search_result-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">click_search_result</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.click_search_result-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.click_search_result"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.click_search_result-339"><a href="#GrandExchangeActions.click_search_result-339"><span class="linenos">339</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">click_search_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="GrandExchangeActions.click_search_result-340"><a href="#GrandExchangeActions.click_search_result-340"><span class="linenos">340</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Click on a search result for the specified item ID&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.click_search_result-341"><a href="#GrandExchangeActions.click_search_result-341"><span class="linenos">341</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_search_result-342"><a href="#GrandExchangeActions.click_search_result-342"><span class="linenos">342</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Getting search results for item ID </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_search_result-343"><a href="#GrandExchangeActions.click_search_result-343"><span class="linenos">343</span></a>            <span class="n">search_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">get_ge_search_results</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_search_result-344"><a href="#GrandExchangeActions.click_search_result-344"><span class="linenos">344</span></a>
</span><span id="GrandExchangeActions.click_search_result-345"><a href="#GrandExchangeActions.click_search_result-345"><span class="linenos">345</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">search_results</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">search_results</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_search_result-346"><a href="#GrandExchangeActions.click_search_result-346"><span class="linenos">346</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] No search results found for item ID </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_search_result-347"><a href="#GrandExchangeActions.click_search_result-347"><span class="linenos">347</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions.click_search_result-348"><a href="#GrandExchangeActions.click_search_result-348"><span class="linenos">348</span></a>
</span><span id="GrandExchangeActions.click_search_result-349"><a href="#GrandExchangeActions.click_search_result-349"><span class="linenos">349</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">search_results</span><span class="p">)</span><span class="si">}</span><span class="s2"> search results&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_search_result-350"><a href="#GrandExchangeActions.click_search_result-350"><span class="linenos">350</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">search_results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;widgetId&quot;</span><span class="p">])</span>
</span><span id="GrandExchangeActions.click_search_result-351"><a href="#GrandExchangeActions.click_search_result-351"><span class="linenos">351</span></a>            <span class="n">widget_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">search_results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;index&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># subtract 2 because id is stored in a widget without interaction</span>
</span><span id="GrandExchangeActions.click_search_result-352"><a href="#GrandExchangeActions.click_search_result-352"><span class="linenos">352</span></a>            <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.click_search_result-353"><a href="#GrandExchangeActions.click_search_result-353"><span class="linenos">353</span></a>            <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_search_result-354"><a href="#GrandExchangeActions.click_search_result-354"><span class="linenos">354</span></a>            <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_search_result-355"><a href="#GrandExchangeActions.click_search_result-355"><span class="linenos">355</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.click_search_result-356"><a href="#GrandExchangeActions.click_search_result-356"><span class="linenos">356</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Clicking widget </span><span class="si">{</span><span class="n">widget_id</span><span class="si">}</span><span class="s2"> at index </span><span class="si">{</span><span class="n">widget_index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_search_result-357"><a href="#GrandExchangeActions.click_search_result-357"><span class="linenos">357</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="n">widget_id</span><span class="p">,</span> <span class="n">widget_index</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_search_result-358"><a href="#GrandExchangeActions.click_search_result-358"><span class="linenos">358</span></a>
</span><span id="GrandExchangeActions.click_search_result-359"><a href="#GrandExchangeActions.click_search_result-359"><span class="linenos">359</span></a>            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">):</span>
</span><span id="GrandExchangeActions.click_search_result-360"><a href="#GrandExchangeActions.click_search_result-360"><span class="linenos">360</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to click search result: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_search_result-361"><a href="#GrandExchangeActions.click_search_result-361"><span class="linenos">361</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="GrandExchangeActions.click_search_result-362"><a href="#GrandExchangeActions.click_search_result-362"><span class="linenos">362</span></a>
</span><span id="GrandExchangeActions.click_search_result-363"><a href="#GrandExchangeActions.click_search_result-363"><span class="linenos">363</span></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Increased wait time</span>
</span><span id="GrandExchangeActions.click_search_result-364"><a href="#GrandExchangeActions.click_search_result-364"><span class="linenos">364</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="GrandExchangeActions.click_search_result-365"><a href="#GrandExchangeActions.click_search_result-365"><span class="linenos">365</span></a>
</span><span id="GrandExchangeActions.click_search_result-366"><a href="#GrandExchangeActions.click_search_result-366"><span class="linenos">366</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_search_result-367"><a href="#GrandExchangeActions.click_search_result-367"><span class="linenos">367</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Error clicking search result: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_search_result-368"><a href="#GrandExchangeActions.click_search_result-368"><span class="linenos">368</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Click on a search result for the specified item ID</p>
</div>


                            </div>
                            <div id="GrandExchangeActions.click_ge_slot" class="classattr">
                                        <input id="GrandExchangeActions.click_ge_slot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">click_ge_slot</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">buy_slot</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">mode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.click_ge_slot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.click_ge_slot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.click_ge_slot-370"><a href="#GrandExchangeActions.click_ge_slot-370"><span class="linenos">370</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">click_ge_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buy_slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">):</span>
</span><span id="GrandExchangeActions.click_ge_slot-371"><a href="#GrandExchangeActions.click_ge_slot-371"><span class="linenos">371</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;_summary_</span>
</span><span id="GrandExchangeActions.click_ge_slot-372"><a href="#GrandExchangeActions.click_ge_slot-372"><span class="linenos">372</span></a><span class="sd">        mode 2 is the default to click a completed slot</span>
</span><span id="GrandExchangeActions.click_ge_slot-373"><a href="#GrandExchangeActions.click_ge_slot-373"><span class="linenos">373</span></a><span class="sd">        mode 3 is the default to buy items</span>
</span><span id="GrandExchangeActions.click_ge_slot-374"><a href="#GrandExchangeActions.click_ge_slot-374"><span class="linenos">374</span></a><span class="sd">        mode 4 is the default to sell items</span>
</span><span id="GrandExchangeActions.click_ge_slot-375"><a href="#GrandExchangeActions.click_ge_slot-375"><span class="linenos">375</span></a>
</span><span id="GrandExchangeActions.click_ge_slot-376"><a href="#GrandExchangeActions.click_ge_slot-376"><span class="linenos">376</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions.click_ge_slot-377"><a href="#GrandExchangeActions.click_ge_slot-377"><span class="linenos">377</span></a><span class="sd">            buy_slot (int): the slot to use</span>
</span><span id="GrandExchangeActions.click_ge_slot-378"><a href="#GrandExchangeActions.click_ge_slot-378"><span class="linenos">378</span></a><span class="sd">            mode (int, optional): defaults to buy mode. 2 is to click a completed slot. 4 is to sell items.</span>
</span><span id="GrandExchangeActions.click_ge_slot-379"><a href="#GrandExchangeActions.click_ge_slot-379"><span class="linenos">379</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.click_ge_slot-380"><a href="#GrandExchangeActions.click_ge_slot-380"><span class="linenos">380</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.click_ge_slot-381"><a href="#GrandExchangeActions.click_ge_slot-381"><span class="linenos">381</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-382"><a href="#GrandExchangeActions.click_ge_slot-382"><span class="linenos">382</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-383"><a href="#GrandExchangeActions.click_ge_slot-383"><span class="linenos">383</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.click_ge_slot-384"><a href="#GrandExchangeActions.click_ge_slot-384"><span class="linenos">384</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_ge_slot-385"><a href="#GrandExchangeActions.click_ge_slot-385"><span class="linenos">385</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474247</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-386"><a href="#GrandExchangeActions.click_ge_slot-386"><span class="linenos">386</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_ge_slot-387"><a href="#GrandExchangeActions.click_ge_slot-387"><span class="linenos">387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474248</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-388"><a href="#GrandExchangeActions.click_ge_slot-388"><span class="linenos">388</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_ge_slot-389"><a href="#GrandExchangeActions.click_ge_slot-389"><span class="linenos">389</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474249</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-390"><a href="#GrandExchangeActions.click_ge_slot-390"><span class="linenos">390</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_ge_slot-391"><a href="#GrandExchangeActions.click_ge_slot-391"><span class="linenos">391</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474250</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-392"><a href="#GrandExchangeActions.click_ge_slot-392"><span class="linenos">392</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_ge_slot-393"><a href="#GrandExchangeActions.click_ge_slot-393"><span class="linenos">393</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474251</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-394"><a href="#GrandExchangeActions.click_ge_slot-394"><span class="linenos">394</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_ge_slot-395"><a href="#GrandExchangeActions.click_ge_slot-395"><span class="linenos">395</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474252</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-396"><a href="#GrandExchangeActions.click_ge_slot-396"><span class="linenos">396</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_ge_slot-397"><a href="#GrandExchangeActions.click_ge_slot-397"><span class="linenos">397</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474253</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-398"><a href="#GrandExchangeActions.click_ge_slot-398"><span class="linenos">398</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_ge_slot-399"><a href="#GrandExchangeActions.click_ge_slot-399"><span class="linenos">399</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474254</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-400"><a href="#GrandExchangeActions.click_ge_slot-400"><span class="linenos">400</span></a>        <span class="k">if</span> <span class="n">buy_slot</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="GrandExchangeActions.click_ge_slot-401"><a href="#GrandExchangeActions.click_ge_slot-401"><span class="linenos">401</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">interact_widget</span><span class="p">(</span><span class="mi">30474255</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</span><span id="GrandExchangeActions.click_ge_slot-402"><a href="#GrandExchangeActions.click_ge_slot-402"><span class="linenos">402</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>_summary_
mode 2 is the default to click a completed slot
mode 3 is the default to buy items
mode 4 is the default to sell items</p>

<p>Args:
    buy_slot (int): the slot to use
    mode (int, optional): defaults to buy mode. 2 is to click a completed slot. 4 is to sell items.</p>
</div>


                            </div>
                            <div id="GrandExchangeActions.select_menu_option" class="classattr">
                                        <input id="GrandExchangeActions.select_menu_option-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select_menu_option</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">option</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">widget_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>,</span><span class="param">	<span class="n">option_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span>,</span><span class="param">	<span class="n">menu_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span>,</span><span class="param">	<span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>,</span><span class="param">	<span class="n">consume</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.select_menu_option-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.select_menu_option"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.select_menu_option-404"><a href="#GrandExchangeActions.select_menu_option-404"><span class="linenos">404</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">select_menu_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">widget_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">option_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">menu_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">consume</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="GrandExchangeActions.select_menu_option-405"><a href="#GrandExchangeActions.select_menu_option-405"><span class="linenos">405</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.select_menu_option-406"><a href="#GrandExchangeActions.select_menu_option-406"><span class="linenos">406</span></a><span class="sd">        Selects a menu option for a specific widget/menu entry.</span>
</span><span id="GrandExchangeActions.select_menu_option-407"><a href="#GrandExchangeActions.select_menu_option-407"><span class="linenos">407</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions.select_menu_option-408"><a href="#GrandExchangeActions.select_menu_option-408"><span class="linenos">408</span></a><span class="sd">            option (str): The menu option to select (required)</span>
</span><span id="GrandExchangeActions.select_menu_option-409"><a href="#GrandExchangeActions.select_menu_option-409"><span class="linenos">409</span></a><span class="sd">            widget_id (int, optional): The widget ID (was param1). Defaults to -1.</span>
</span><span id="GrandExchangeActions.select_menu_option-410"><a href="#GrandExchangeActions.select_menu_option-410"><span class="linenos">410</span></a><span class="sd">            option_index (int, optional): The option index (was param0, usually 2 for abort). Defaults to 2.</span>
</span><span id="GrandExchangeActions.select_menu_option-411"><a href="#GrandExchangeActions.select_menu_option-411"><span class="linenos">411</span></a><span class="sd">            menu_index (int, optional): The menu index/identifier (was identifier, e.g. 2 for abort). Defaults to 2.</span>
</span><span id="GrandExchangeActions.select_menu_option-412"><a href="#GrandExchangeActions.select_menu_option-412"><span class="linenos">412</span></a><span class="sd">            item_id (int, optional): Item ID for the menu entry. Defaults to -1.</span>
</span><span id="GrandExchangeActions.select_menu_option-413"><a href="#GrandExchangeActions.select_menu_option-413"><span class="linenos">413</span></a><span class="sd">            consume (bool, optional): Whether to consume the click. Defaults to True.</span>
</span><span id="GrandExchangeActions.select_menu_option-414"><a href="#GrandExchangeActions.select_menu_option-414"><span class="linenos">414</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions.select_menu_option-415"><a href="#GrandExchangeActions.select_menu_option-415"><span class="linenos">415</span></a><span class="sd">            dict: Response from the API indicating success or failure</span>
</span><span id="GrandExchangeActions.select_menu_option-416"><a href="#GrandExchangeActions.select_menu_option-416"><span class="linenos">416</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.select_menu_option-417"><a href="#GrandExchangeActions.select_menu_option-417"><span class="linenos">417</span></a>        <span class="c1"># Use human-like mouse movement for anti-detection</span>
</span><span id="GrandExchangeActions.select_menu_option-418"><a href="#GrandExchangeActions.select_menu_option-418"><span class="linenos">418</span></a>        <span class="n">random_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.select_menu_option-419"><a href="#GrandExchangeActions.select_menu_option-419"><span class="linenos">419</span></a>        <span class="n">random_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span><span id="GrandExchangeActions.select_menu_option-420"><a href="#GrandExchangeActions.select_menu_option-420"><span class="linenos">420</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">move_to</span><span class="p">((</span><span class="n">random_x</span><span class="p">,</span> <span class="n">random_y</span><span class="p">))</span>
</span><span id="GrandExchangeActions.select_menu_option-421"><a href="#GrandExchangeActions.select_menu_option-421"><span class="linenos">421</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_m</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">select_menu_option</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">widget_id</span><span class="p">,</span> <span class="n">option_index</span><span class="p">,</span> <span class="n">menu_index</span><span class="p">,</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">consume</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Selects a menu option for a specific widget/menu entry.
Args:
    option (str): The menu option to select (required)
    widget_id (int, optional): The widget ID (was param1). Defaults to -1.
    option_index (int, optional): The option index (was param0, usually 2 for abort). Defaults to 2.
    menu_index (int, optional): The menu index/identifier (was identifier, e.g. 2 for abort). Defaults to 2.
    item_id (int, optional): Item ID for the menu entry. Defaults to -1.
    consume (bool, optional): Whether to consume the click. Defaults to True.
Returns:
    dict: Response from the API indicating success or failure</p>
</div>


                            </div>
                            <div id="GrandExchangeActions.abort_ge_offer" class="classattr">
                                        <input id="GrandExchangeActions.abort_ge_offer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">abort_ge_offer</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">slot</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="GrandExchangeActions.abort_ge_offer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrandExchangeActions.abort_ge_offer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrandExchangeActions.abort_ge_offer-423"><a href="#GrandExchangeActions.abort_ge_offer-423"><span class="linenos">423</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">abort_ge_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="GrandExchangeActions.abort_ge_offer-424"><a href="#GrandExchangeActions.abort_ge_offer-424"><span class="linenos">424</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.abort_ge_offer-425"><a href="#GrandExchangeActions.abort_ge_offer-425"><span class="linenos">425</span></a><span class="sd">        Aborts a Grand Exchange offer by selecting the &quot;Abort offer&quot; menu option with the required params.</span>
</span><span id="GrandExchangeActions.abort_ge_offer-426"><a href="#GrandExchangeActions.abort_ge_offer-426"><span class="linenos">426</span></a><span class="sd">        Args:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-427"><a href="#GrandExchangeActions.abort_ge_offer-427"><span class="linenos">427</span></a><span class="sd">            widget_id (int): The widget ID (param1)</span>
</span><span id="GrandExchangeActions.abort_ge_offer-428"><a href="#GrandExchangeActions.abort_ge_offer-428"><span class="linenos">428</span></a><span class="sd">            item_id (int, optional): Item ID for the menu entry. Defaults to -1.</span>
</span><span id="GrandExchangeActions.abort_ge_offer-429"><a href="#GrandExchangeActions.abort_ge_offer-429"><span class="linenos">429</span></a><span class="sd">            consume (bool, optional): Whether to consume the click. Defaults to True.</span>
</span><span id="GrandExchangeActions.abort_ge_offer-430"><a href="#GrandExchangeActions.abort_ge_offer-430"><span class="linenos">430</span></a><span class="sd">        Returns:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-431"><a href="#GrandExchangeActions.abort_ge_offer-431"><span class="linenos">431</span></a><span class="sd">            dict: Response from the API indicating success or failure</span>
</span><span id="GrandExchangeActions.abort_ge_offer-432"><a href="#GrandExchangeActions.abort_ge_offer-432"><span class="linenos">432</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GrandExchangeActions.abort_ge_offer-433"><a href="#GrandExchangeActions.abort_ge_offer-433"><span class="linenos">433</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-434"><a href="#GrandExchangeActions.abort_ge_offer-434"><span class="linenos">434</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474247</span>
</span><span id="GrandExchangeActions.abort_ge_offer-435"><a href="#GrandExchangeActions.abort_ge_offer-435"><span class="linenos">435</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-436"><a href="#GrandExchangeActions.abort_ge_offer-436"><span class="linenos">436</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474248</span>
</span><span id="GrandExchangeActions.abort_ge_offer-437"><a href="#GrandExchangeActions.abort_ge_offer-437"><span class="linenos">437</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-438"><a href="#GrandExchangeActions.abort_ge_offer-438"><span class="linenos">438</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474249</span>
</span><span id="GrandExchangeActions.abort_ge_offer-439"><a href="#GrandExchangeActions.abort_ge_offer-439"><span class="linenos">439</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-440"><a href="#GrandExchangeActions.abort_ge_offer-440"><span class="linenos">440</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474250</span>
</span><span id="GrandExchangeActions.abort_ge_offer-441"><a href="#GrandExchangeActions.abort_ge_offer-441"><span class="linenos">441</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-442"><a href="#GrandExchangeActions.abort_ge_offer-442"><span class="linenos">442</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474251</span>
</span><span id="GrandExchangeActions.abort_ge_offer-443"><a href="#GrandExchangeActions.abort_ge_offer-443"><span class="linenos">443</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-444"><a href="#GrandExchangeActions.abort_ge_offer-444"><span class="linenos">444</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474252</span>
</span><span id="GrandExchangeActions.abort_ge_offer-445"><a href="#GrandExchangeActions.abort_ge_offer-445"><span class="linenos">445</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-446"><a href="#GrandExchangeActions.abort_ge_offer-446"><span class="linenos">446</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474253</span>
</span><span id="GrandExchangeActions.abort_ge_offer-447"><a href="#GrandExchangeActions.abort_ge_offer-447"><span class="linenos">447</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-448"><a href="#GrandExchangeActions.abort_ge_offer-448"><span class="linenos">448</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474254</span>
</span><span id="GrandExchangeActions.abort_ge_offer-449"><a href="#GrandExchangeActions.abort_ge_offer-449"><span class="linenos">449</span></a>        <span class="k">if</span> <span class="n">slot</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="GrandExchangeActions.abort_ge_offer-450"><a href="#GrandExchangeActions.abort_ge_offer-450"><span class="linenos">450</span></a>            <span class="n">widget_id</span> <span class="o">=</span> <span class="mi">30474255</span>
</span><span id="GrandExchangeActions.abort_ge_offer-451"><a href="#GrandExchangeActions.abort_ge_offer-451"><span class="linenos">451</span></a>
</span><span id="GrandExchangeActions.abort_ge_offer-452"><a href="#GrandExchangeActions.abort_ge_offer-452"><span class="linenos">452</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_menu_option</span><span class="p">(</span><span class="s2">&quot;Abort offer&quot;</span><span class="p">,</span> <span class="n">widget_id</span><span class="o">=</span><span class="n">widget_id</span><span class="p">,</span> <span class="n">option_index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">menu_index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">consume</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Aborts a Grand Exchange offer by selecting the "Abort offer" menu option with the required params.
Args:
    widget_id (int): The widget ID (param1)
    item_id (int, optional): Item ID for the menu entry. Defaults to -1.
    consume (bool, optional): Whether to consume the click. Defaults to True.
Returns:
    dict: Response from the API indicating success or failure</p>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>